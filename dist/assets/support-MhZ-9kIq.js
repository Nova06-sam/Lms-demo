import{c as vr,r as te,j as f}from"./index-BgvmjoPK.js";import{q as pp,j as xp,r as mp,g as vp,s as Ta,t as Ea,u as Ia,v as _p,w as wp,x as yp,d as La,i as Sa,y as bp,z as Ap,A as Sp}from"./index-CkG1-yBZ.js";import{a as Cp,b as Np}from"./index-DfW-pXyg.js";import{a as Ca}from"./index-DYv1qxzQ.js";import{l as Tp}from"./index-m96ZVajk.js";import{B as Ep}from"./BackDashboard-cToXFvJ9.js";import{y as Ee,L as Ip}from"./index-Vs19GYf2.js";/* empty css                      */import{a as Lp}from"./index-B9ygI19o.js";import"./iconBase-BpTAibu1.js";import"./index-UswyhjMM.js";import"./clsx-B-dksMZM.js";const le=Lp.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});le.interceptors.request.use(_=>{const b=localStorage.getItem("token")||sessionStorage.getItem("token");return b&&(_.headers.Authorization=`Bearer ${b}`),_},_=>Promise.reject(_));le.interceptors.response.use(_=>_,_=>(_.response?.status===401&&(localStorage.removeItem("token"),sessionStorage.removeItem("token"),window.location.href="/login"),Promise.reject(_)));const St={getFAQs:async(_={})=>{try{return(await le.get("/support/faqs",{params:_})).data}catch(b){throw console.error("Error fetching FAQs:",b),b}},voteFAQ:async(_,b)=>{try{return(await le.post(`/support/faqs/${_}/vote`,{isHelpful:b})).data}catch(a){throw console.error("Error voting on FAQ:",a),a}},createTicket:async _=>{try{return(await le.post("/support/tickets",_)).data}catch(b){throw console.error("Error creating ticket:",b),b}},getUserTickets:async(_={})=>{try{const b=await le.get("/support/tickets",{params:_});return console.log(b.data),b.data}catch(b){throw console.error("Error fetching user tickets:",b),b}},getTicket:async _=>{try{const b=await le.get(`/support/tickets/${_}`);return console.log(b.data),b.data}catch(b){throw console.error("Error fetching ticket:",b),b}},updateTicket:async(_,b)=>{try{return(await le.put(`/support/tickets/${_}`,b)).data}catch(a){throw console.error("Error updating ticket:",a),a}},addTicketMessage:async(_,b)=>{try{return(await le.post(`/support/tickets/${_}/messages`,b)).data}catch(a){throw console.error("Error adding message:",a),a}},rateTicket:async(_,b)=>{try{return(await le.post(`/support/tickets/${_}/rate`,b)).data}catch(a){throw console.error("Error rating ticket:",a),a}},startChatSession:async(_="general")=>{try{return(await le.post("/support/chat/start",{department:_})).data}catch(b){throw console.error("Error starting chat session:",b),b}},getChatMessages:async _=>{try{return(await le.get(`/support/chat/${_}/messages`)).data}catch(b){throw console.error("Error fetching chat messages:",b),b}},sendChatMessage:async(_,b,a=[])=>{try{return(await le.post(`/support/chat/${_}/message`,{message:b,attachments:a})).data}catch(X){throw console.error("Error sending chat message:",X),X}},endChatSession:async(_,b=null,a="")=>{try{return(await le.post(`/support/chat/${_}/end`,{rating:b,feedback:a})).data}catch(X){throw console.error("Error ending chat session:",X),X}},getSupportStatistics:async()=>{try{return(await le.get("/support/statistics")).data}catch(_){throw console.error("Error fetching statistics:",_),_}},getAllTickets:async(_={})=>{try{return(await le.get("/support/tickets/admin/all",{params:_})).data}catch(b){throw console.error("Error fetching all tickets:",b),b}}};var Ct={exports:{}};var Rp=Ct.exports,Na;function Fp(){return Na||(Na=1,(function(_,b){(function(){var a,X="4.17.21",k=200,_e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",R="Expected a function",Ie="Invalid `variable` option passed into `_.template`",Ve="__lodash_hash_undefined__",tt=500,Wn="__lodash_placeholder__",Le=1,Cn=2,Ye=4,ee=1,Re=2,se=1,dn=2,rt=4,we=8,ue=16,ye=32,Nn=64,Fe=128,en=256,it=512,Nt=30,Tn="...",_r=800,wr=16,Tt=1,yr=2,Un=3,nn=1/0,Ze=9007199254740991,br=17976931348623157e292,Dn=NaN,de=4294967295,Ar=de-1,Sr=de>>>1,Cr=[["ary",Fe],["bind",se],["bindKey",dn],["curry",we],["curryRight",ue],["flip",it],["partial",ye],["partialRight",Nn],["rearg",en]],gn="[object Arguments]",Bn="[object Array]",Et="[object AsyncFunction]",pn="[object Boolean]",tn="[object Date]",Nr="[object DOMException]",v="[object Error]",C="[object Function]",B="[object GeneratorFunction]",q="[object Map]",ge="[object Number]",Oe="[object Null]",qe="[object Object]",Yi="[object Promise]",Ra="[object Proxy]",st="[object RegExp]",$e="[object Set]",ut="[object String]",It="[object Symbol]",Fa="[object Undefined]",at="[object WeakMap]",Oa="[object WeakSet]",ot="[object ArrayBuffer]",Hn="[object DataView]",Tr="[object Float32Array]",Er="[object Float64Array]",Ir="[object Int8Array]",Lr="[object Int16Array]",Rr="[object Int32Array]",Fr="[object Uint8Array]",Or="[object Uint8ClampedArray]",jr="[object Uint16Array]",Pr="[object Uint32Array]",ja=/\b__p \+= '';/g,Pa=/\b(__p \+=) '' \+/g,Ma=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zi=/&(?:amp|lt|gt|quot|#39);/g,Qi=/[&<>"']/g,Wa=RegExp(Zi.source),Ua=RegExp(Qi.source),Da=/<%-([\s\S]+?)%>/g,Ba=/<%([\s\S]+?)%>/g,Xi=/<%=([\s\S]+?)%>/g,Ha=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qa=/^\w*$/,$a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mr=/[\\^$.*+?()[\]{}|]/g,Ga=RegExp(Mr.source),Wr=/^\s+/,ka=/\s/,Ka=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,za=/\{\n\/\* \[wrapped with (.+)\] \*/,Ya=/,? & /,Za=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qa=/[()=,{}\[\]\/\s]/,Xa=/\\(\\)?/g,Ja=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ji=/\w*$/,Va=/^[-+]0x[0-9a-f]+$/i,eo=/^0b[01]+$/i,no=/^\[object .+?Constructor\]$/,to=/^0o[0-7]+$/i,ro=/^(?:0|[1-9]\d*)$/,io=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lt=/($^)/,so=/['\n\r\u2028\u2029\\]/g,Rt="\\ud800-\\udfff",uo="\\u0300-\\u036f",ao="\\ufe20-\\ufe2f",oo="\\u20d0-\\u20ff",Vi=uo+ao+oo,es="\\u2700-\\u27bf",ns="a-z\\xdf-\\xf6\\xf8-\\xff",lo="\\xac\\xb1\\xd7\\xf7",fo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",co="\\u2000-\\u206f",ho=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ts="A-Z\\xc0-\\xd6\\xd8-\\xde",rs="\\ufe0e\\ufe0f",is=lo+fo+co+ho,Ur="['’]",go="["+Rt+"]",ss="["+is+"]",Ft="["+Vi+"]",us="\\d+",po="["+es+"]",as="["+ns+"]",os="[^"+Rt+is+us+es+ns+ts+"]",Dr="\\ud83c[\\udffb-\\udfff]",xo="(?:"+Ft+"|"+Dr+")",ls="[^"+Rt+"]",Br="(?:\\ud83c[\\udde6-\\uddff]){2}",Hr="[\\ud800-\\udbff][\\udc00-\\udfff]",qn="["+ts+"]",fs="\\u200d",cs="(?:"+as+"|"+os+")",mo="(?:"+qn+"|"+os+")",hs="(?:"+Ur+"(?:d|ll|m|re|s|t|ve))?",ds="(?:"+Ur+"(?:D|LL|M|RE|S|T|VE))?",gs=xo+"?",ps="["+rs+"]?",vo="(?:"+fs+"(?:"+[ls,Br,Hr].join("|")+")"+ps+gs+")*",_o="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xs=ps+gs+vo,yo="(?:"+[po,Br,Hr].join("|")+")"+xs,bo="(?:"+[ls+Ft+"?",Ft,Br,Hr,go].join("|")+")",Ao=RegExp(Ur,"g"),So=RegExp(Ft,"g"),qr=RegExp(Dr+"(?="+Dr+")|"+bo+xs,"g"),Co=RegExp([qn+"?"+as+"+"+hs+"(?="+[ss,qn,"$"].join("|")+")",mo+"+"+ds+"(?="+[ss,qn+cs,"$"].join("|")+")",qn+"?"+cs+"+"+hs,qn+"+"+ds,wo,_o,us,yo].join("|"),"g"),No=RegExp("["+fs+Rt+Vi+rs+"]"),To=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Eo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Io=-1,G={};G[Tr]=G[Er]=G[Ir]=G[Lr]=G[Rr]=G[Fr]=G[Or]=G[jr]=G[Pr]=!0,G[gn]=G[Bn]=G[ot]=G[pn]=G[Hn]=G[tn]=G[v]=G[C]=G[q]=G[ge]=G[qe]=G[st]=G[$e]=G[ut]=G[at]=!1;var $={};$[gn]=$[Bn]=$[ot]=$[Hn]=$[pn]=$[tn]=$[Tr]=$[Er]=$[Ir]=$[Lr]=$[Rr]=$[q]=$[ge]=$[qe]=$[st]=$[$e]=$[ut]=$[It]=$[Fr]=$[Or]=$[jr]=$[Pr]=!0,$[v]=$[C]=$[at]=!1;var Lo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ro={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jo=parseFloat,Po=parseInt,ms=typeof vr=="object"&&vr&&vr.Object===Object&&vr,Mo=typeof self=="object"&&self&&self.Object===Object&&self,re=ms||Mo||Function("return this")(),$r=b&&!b.nodeType&&b,En=$r&&!0&&_&&!_.nodeType&&_,vs=En&&En.exports===$r,Gr=vs&&ms.process,je=(function(){try{var c=En&&En.require&&En.require("util").types;return c||Gr&&Gr.binding&&Gr.binding("util")}catch{}})(),_s=je&&je.isArrayBuffer,ws=je&&je.isDate,ys=je&&je.isMap,bs=je&&je.isRegExp,As=je&&je.isSet,Ss=je&&je.isTypedArray;function be(c,g,d){switch(d.length){case 0:return c.call(g);case 1:return c.call(g,d[0]);case 2:return c.call(g,d[0],d[1]);case 3:return c.call(g,d[0],d[1],d[2])}return c.apply(g,d)}function Wo(c,g,d,y){for(var E=-1,W=c==null?0:c.length;++E<W;){var J=c[E];g(y,J,d(J),c)}return y}function Pe(c,g){for(var d=-1,y=c==null?0:c.length;++d<y&&g(c[d],d,c)!==!1;);return c}function Uo(c,g){for(var d=c==null?0:c.length;d--&&g(c[d],d,c)!==!1;);return c}function Cs(c,g){for(var d=-1,y=c==null?0:c.length;++d<y;)if(!g(c[d],d,c))return!1;return!0}function xn(c,g){for(var d=-1,y=c==null?0:c.length,E=0,W=[];++d<y;){var J=c[d];g(J,d,c)&&(W[E++]=J)}return W}function Ot(c,g){var d=c==null?0:c.length;return!!d&&$n(c,g,0)>-1}function kr(c,g,d){for(var y=-1,E=c==null?0:c.length;++y<E;)if(d(g,c[y]))return!0;return!1}function K(c,g){for(var d=-1,y=c==null?0:c.length,E=Array(y);++d<y;)E[d]=g(c[d],d,c);return E}function mn(c,g){for(var d=-1,y=g.length,E=c.length;++d<y;)c[E+d]=g[d];return c}function Kr(c,g,d,y){var E=-1,W=c==null?0:c.length;for(y&&W&&(d=c[++E]);++E<W;)d=g(d,c[E],E,c);return d}function Do(c,g,d,y){var E=c==null?0:c.length;for(y&&E&&(d=c[--E]);E--;)d=g(d,c[E],E,c);return d}function zr(c,g){for(var d=-1,y=c==null?0:c.length;++d<y;)if(g(c[d],d,c))return!0;return!1}var Bo=Yr("length");function Ho(c){return c.split("")}function qo(c){return c.match(Za)||[]}function Ns(c,g,d){var y;return d(c,function(E,W,J){if(g(E,W,J))return y=W,!1}),y}function jt(c,g,d,y){for(var E=c.length,W=d+(y?1:-1);y?W--:++W<E;)if(g(c[W],W,c))return W;return-1}function $n(c,g,d){return g===g?el(c,g,d):jt(c,Ts,d)}function $o(c,g,d,y){for(var E=d-1,W=c.length;++E<W;)if(y(c[E],g))return E;return-1}function Ts(c){return c!==c}function Es(c,g){var d=c==null?0:c.length;return d?Qr(c,g)/d:Dn}function Yr(c){return function(g){return g==null?a:g[c]}}function Zr(c){return function(g){return c==null?a:c[g]}}function Is(c,g,d,y,E){return E(c,function(W,J,H){d=y?(y=!1,W):g(d,W,J,H)}),d}function Go(c,g){var d=c.length;for(c.sort(g);d--;)c[d]=c[d].value;return c}function Qr(c,g){for(var d,y=-1,E=c.length;++y<E;){var W=g(c[y]);W!==a&&(d=d===a?W:d+W)}return d}function Xr(c,g){for(var d=-1,y=Array(c);++d<c;)y[d]=g(d);return y}function ko(c,g){return K(g,function(d){return[d,c[d]]})}function Ls(c){return c&&c.slice(0,js(c)+1).replace(Wr,"")}function Ae(c){return function(g){return c(g)}}function Jr(c,g){return K(g,function(d){return c[d]})}function lt(c,g){return c.has(g)}function Rs(c,g){for(var d=-1,y=c.length;++d<y&&$n(g,c[d],0)>-1;);return d}function Fs(c,g){for(var d=c.length;d--&&$n(g,c[d],0)>-1;);return d}function Ko(c,g){for(var d=c.length,y=0;d--;)c[d]===g&&++y;return y}var zo=Zr(Lo),Yo=Zr(Ro);function Zo(c){return"\\"+Oo[c]}function Qo(c,g){return c==null?a:c[g]}function Gn(c){return No.test(c)}function Xo(c){return To.test(c)}function Jo(c){for(var g,d=[];!(g=c.next()).done;)d.push(g.value);return d}function Vr(c){var g=-1,d=Array(c.size);return c.forEach(function(y,E){d[++g]=[E,y]}),d}function Os(c,g){return function(d){return c(g(d))}}function vn(c,g){for(var d=-1,y=c.length,E=0,W=[];++d<y;){var J=c[d];(J===g||J===Wn)&&(c[d]=Wn,W[E++]=d)}return W}function Pt(c){var g=-1,d=Array(c.size);return c.forEach(function(y){d[++g]=y}),d}function Vo(c){var g=-1,d=Array(c.size);return c.forEach(function(y){d[++g]=[y,y]}),d}function el(c,g,d){for(var y=d-1,E=c.length;++y<E;)if(c[y]===g)return y;return-1}function nl(c,g,d){for(var y=d+1;y--;)if(c[y]===g)return y;return y}function kn(c){return Gn(c)?rl(c):Bo(c)}function Ge(c){return Gn(c)?il(c):Ho(c)}function js(c){for(var g=c.length;g--&&ka.test(c.charAt(g)););return g}var tl=Zr(Fo);function rl(c){for(var g=qr.lastIndex=0;qr.test(c);)++g;return g}function il(c){return c.match(qr)||[]}function sl(c){return c.match(Co)||[]}var ul=(function c(g){g=g==null?re:Kn.defaults(re.Object(),g,Kn.pick(re,Eo));var d=g.Array,y=g.Date,E=g.Error,W=g.Function,J=g.Math,H=g.Object,ei=g.RegExp,al=g.String,Me=g.TypeError,Mt=d.prototype,ol=W.prototype,zn=H.prototype,Wt=g["__core-js_shared__"],Ut=ol.toString,D=zn.hasOwnProperty,ll=0,Ps=(function(){var e=/[^.]+$/.exec(Wt&&Wt.keys&&Wt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),Dt=zn.toString,fl=Ut.call(H),cl=re._,hl=ei("^"+Ut.call(D).replace(Mr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=vs?g.Buffer:a,_n=g.Symbol,Ht=g.Uint8Array,Ms=Bt?Bt.allocUnsafe:a,qt=Os(H.getPrototypeOf,H),Ws=H.create,Us=zn.propertyIsEnumerable,$t=Mt.splice,Ds=_n?_n.isConcatSpreadable:a,ft=_n?_n.iterator:a,In=_n?_n.toStringTag:a,Gt=(function(){try{var e=jn(H,"defineProperty");return e({},"",{}),e}catch{}})(),dl=g.clearTimeout!==re.clearTimeout&&g.clearTimeout,gl=y&&y.now!==re.Date.now&&y.now,pl=g.setTimeout!==re.setTimeout&&g.setTimeout,kt=J.ceil,Kt=J.floor,ni=H.getOwnPropertySymbols,xl=Bt?Bt.isBuffer:a,Bs=g.isFinite,ml=Mt.join,vl=Os(H.keys,H),V=J.max,ae=J.min,_l=y.now,wl=g.parseInt,Hs=J.random,yl=Mt.reverse,ti=jn(g,"DataView"),ct=jn(g,"Map"),ri=jn(g,"Promise"),Yn=jn(g,"Set"),ht=jn(g,"WeakMap"),dt=jn(H,"create"),zt=ht&&new ht,Zn={},bl=Pn(ti),Al=Pn(ct),Sl=Pn(ri),Cl=Pn(Yn),Nl=Pn(ht),Yt=_n?_n.prototype:a,gt=Yt?Yt.valueOf:a,qs=Yt?Yt.toString:a;function s(e){if(Y(e)&&!I(e)&&!(e instanceof P)){if(e instanceof We)return e;if(D.call(e,"__wrapped__"))return $u(e)}return new We(e)}var Qn=(function(){function e(){}return function(n){if(!z(n))return{};if(Ws)return Ws(n);e.prototype=n;var t=new e;return e.prototype=a,t}})();function Zt(){}function We(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=a}s.templateSettings={escape:Da,evaluate:Ba,interpolate:Xi,variable:"",imports:{_:s}},s.prototype=Zt.prototype,s.prototype.constructor=s,We.prototype=Qn(Zt.prototype),We.prototype.constructor=We;function P(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=de,this.__views__=[]}function Tl(){var e=new P(this.__wrapped__);return e.__actions__=pe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=pe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=pe(this.__views__),e}function El(){if(this.__filtered__){var e=new P(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Il(){var e=this.__wrapped__.value(),n=this.__dir__,t=I(e),r=n<0,i=t?e.length:0,u=qf(0,i,this.__views__),o=u.start,l=u.end,h=l-o,p=r?l:o-1,x=this.__iteratees__,m=x.length,w=0,A=ae(h,this.__takeCount__);if(!t||!r&&i==h&&A==h)return hu(e,this.__actions__);var N=[];e:for(;h--&&w<A;){p+=n;for(var F=-1,T=e[p];++F<m;){var j=x[F],M=j.iteratee,Ne=j.type,he=M(T);if(Ne==yr)T=he;else if(!he){if(Ne==Tt)continue e;break e}}N[w++]=T}return N}P.prototype=Qn(Zt.prototype),P.prototype.constructor=P;function Ln(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Ll(){this.__data__=dt?dt(null):{},this.size=0}function Rl(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Fl(e){var n=this.__data__;if(dt){var t=n[e];return t===Ve?a:t}return D.call(n,e)?n[e]:a}function Ol(e){var n=this.__data__;return dt?n[e]!==a:D.call(n,e)}function jl(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=dt&&n===a?Ve:n,this}Ln.prototype.clear=Ll,Ln.prototype.delete=Rl,Ln.prototype.get=Fl,Ln.prototype.has=Ol,Ln.prototype.set=jl;function rn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Pl(){this.__data__=[],this.size=0}function Ml(e){var n=this.__data__,t=Qt(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():$t.call(n,t,1),--this.size,!0}function Wl(e){var n=this.__data__,t=Qt(n,e);return t<0?a:n[t][1]}function Ul(e){return Qt(this.__data__,e)>-1}function Dl(e,n){var t=this.__data__,r=Qt(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}rn.prototype.clear=Pl,rn.prototype.delete=Ml,rn.prototype.get=Wl,rn.prototype.has=Ul,rn.prototype.set=Dl;function sn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Bl(){this.size=0,this.__data__={hash:new Ln,map:new(ct||rn),string:new Ln}}function Hl(e){var n=or(this,e).delete(e);return this.size-=n?1:0,n}function ql(e){return or(this,e).get(e)}function $l(e){return or(this,e).has(e)}function Gl(e,n){var t=or(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}sn.prototype.clear=Bl,sn.prototype.delete=Hl,sn.prototype.get=ql,sn.prototype.has=$l,sn.prototype.set=Gl;function Rn(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new sn;++n<t;)this.add(e[n])}function kl(e){return this.__data__.set(e,Ve),this}function Kl(e){return this.__data__.has(e)}Rn.prototype.add=Rn.prototype.push=kl,Rn.prototype.has=Kl;function ke(e){var n=this.__data__=new rn(e);this.size=n.size}function zl(){this.__data__=new rn,this.size=0}function Yl(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function Zl(e){return this.__data__.get(e)}function Ql(e){return this.__data__.has(e)}function Xl(e,n){var t=this.__data__;if(t instanceof rn){var r=t.__data__;if(!ct||r.length<k-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new sn(r)}return t.set(e,n),this.size=t.size,this}ke.prototype.clear=zl,ke.prototype.delete=Yl,ke.prototype.get=Zl,ke.prototype.has=Ql,ke.prototype.set=Xl;function $s(e,n){var t=I(e),r=!t&&Mn(e),i=!t&&!r&&Sn(e),u=!t&&!r&&!i&&et(e),o=t||r||i||u,l=o?Xr(e.length,al):[],h=l.length;for(var p in e)(n||D.call(e,p))&&!(o&&(p=="length"||i&&(p=="offset"||p=="parent")||u&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||ln(p,h)))&&l.push(p);return l}function Gs(e){var n=e.length;return n?e[gi(0,n-1)]:a}function Jl(e,n){return lr(pe(e),Fn(n,0,e.length))}function Vl(e){return lr(pe(e))}function ii(e,n,t){(t!==a&&!Ke(e[n],t)||t===a&&!(n in e))&&un(e,n,t)}function pt(e,n,t){var r=e[n];(!(D.call(e,n)&&Ke(r,t))||t===a&&!(n in e))&&un(e,n,t)}function Qt(e,n){for(var t=e.length;t--;)if(Ke(e[t][0],n))return t;return-1}function ef(e,n,t,r){return wn(e,function(i,u,o){n(r,i,t(i),o)}),r}function ks(e,n){return e&&Xe(n,ne(n),e)}function nf(e,n){return e&&Xe(n,me(n),e)}function un(e,n,t){n=="__proto__"&&Gt?Gt(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function si(e,n){for(var t=-1,r=n.length,i=d(r),u=e==null;++t<r;)i[t]=u?a:Di(e,n[t]);return i}function Fn(e,n,t){return e===e&&(t!==a&&(e=e<=t?e:t),n!==a&&(e=e>=n?e:n)),e}function Ue(e,n,t,r,i,u){var o,l=n&Le,h=n&Cn,p=n&Ye;if(t&&(o=i?t(e,r,i,u):t(e)),o!==a)return o;if(!z(e))return e;var x=I(e);if(x){if(o=Gf(e),!l)return pe(e,o)}else{var m=oe(e),w=m==C||m==B;if(Sn(e))return pu(e,l);if(m==qe||m==gn||w&&!i){if(o=h||w?{}:ju(e),!l)return h?Of(e,nf(o,e)):Ff(e,ks(o,e))}else{if(!$[m])return i?e:{};o=kf(e,m,l)}}u||(u=new ke);var A=u.get(e);if(A)return A;u.set(e,o),la(e)?e.forEach(function(T){o.add(Ue(T,n,t,T,e,u))}):aa(e)&&e.forEach(function(T,j){o.set(j,Ue(T,n,t,j,e,u))});var N=p?h?Ci:Si:h?me:ne,F=x?a:N(e);return Pe(F||e,function(T,j){F&&(j=T,T=e[j]),pt(o,j,Ue(T,n,t,j,e,u))}),o}function tf(e){var n=ne(e);return function(t){return Ks(t,e,n)}}function Ks(e,n,t){var r=t.length;if(e==null)return!r;for(e=H(e);r--;){var i=t[r],u=n[i],o=e[i];if(o===a&&!(i in e)||!u(o))return!1}return!0}function zs(e,n,t){if(typeof e!="function")throw new Me(R);return bt(function(){e.apply(a,t)},n)}function xt(e,n,t,r){var i=-1,u=Ot,o=!0,l=e.length,h=[],p=n.length;if(!l)return h;t&&(n=K(n,Ae(t))),r?(u=kr,o=!1):n.length>=k&&(u=lt,o=!1,n=new Rn(n));e:for(;++i<l;){var x=e[i],m=t==null?x:t(x);if(x=r||x!==0?x:0,o&&m===m){for(var w=p;w--;)if(n[w]===m)continue e;h.push(x)}else u(n,m,r)||h.push(x)}return h}var wn=wu(Qe),Ys=wu(ai,!0);function rf(e,n){var t=!0;return wn(e,function(r,i,u){return t=!!n(r,i,u),t}),t}function Xt(e,n,t){for(var r=-1,i=e.length;++r<i;){var u=e[r],o=n(u);if(o!=null&&(l===a?o===o&&!Ce(o):t(o,l)))var l=o,h=u}return h}function sf(e,n,t,r){var i=e.length;for(t=L(t),t<0&&(t=-t>i?0:i+t),r=r===a||r>i?i:L(r),r<0&&(r+=i),r=t>r?0:ca(r);t<r;)e[t++]=n;return e}function Zs(e,n){var t=[];return wn(e,function(r,i,u){n(r,i,u)&&t.push(r)}),t}function ie(e,n,t,r,i){var u=-1,o=e.length;for(t||(t=zf),i||(i=[]);++u<o;){var l=e[u];n>0&&t(l)?n>1?ie(l,n-1,t,r,i):mn(i,l):r||(i[i.length]=l)}return i}var ui=yu(),Qs=yu(!0);function Qe(e,n){return e&&ui(e,n,ne)}function ai(e,n){return e&&Qs(e,n,ne)}function Jt(e,n){return xn(n,function(t){return fn(e[t])})}function On(e,n){n=bn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[Je(n[t++])];return t&&t==r?e:a}function Xs(e,n,t){var r=n(e);return I(e)?r:mn(r,t(e))}function fe(e){return e==null?e===a?Fa:Oe:In&&In in H(e)?Hf(e):ec(e)}function oi(e,n){return e>n}function uf(e,n){return e!=null&&D.call(e,n)}function af(e,n){return e!=null&&n in H(e)}function of(e,n,t){return e>=ae(n,t)&&e<V(n,t)}function li(e,n,t){for(var r=t?kr:Ot,i=e[0].length,u=e.length,o=u,l=d(u),h=1/0,p=[];o--;){var x=e[o];o&&n&&(x=K(x,Ae(n))),h=ae(x.length,h),l[o]=!t&&(n||i>=120&&x.length>=120)?new Rn(o&&x):a}x=e[0];var m=-1,w=l[0];e:for(;++m<i&&p.length<h;){var A=x[m],N=n?n(A):A;if(A=t||A!==0?A:0,!(w?lt(w,N):r(p,N,t))){for(o=u;--o;){var F=l[o];if(!(F?lt(F,N):r(e[o],N,t)))continue e}w&&w.push(N),p.push(A)}}return p}function lf(e,n,t,r){return Qe(e,function(i,u,o){n(r,t(i),u,o)}),r}function mt(e,n,t){n=bn(n,e),e=Uu(e,n);var r=e==null?e:e[Je(Be(n))];return r==null?a:be(r,e,t)}function Js(e){return Y(e)&&fe(e)==gn}function ff(e){return Y(e)&&fe(e)==ot}function cf(e){return Y(e)&&fe(e)==tn}function vt(e,n,t,r,i){return e===n?!0:e==null||n==null||!Y(e)&&!Y(n)?e!==e&&n!==n:hf(e,n,t,r,vt,i)}function hf(e,n,t,r,i,u){var o=I(e),l=I(n),h=o?Bn:oe(e),p=l?Bn:oe(n);h=h==gn?qe:h,p=p==gn?qe:p;var x=h==qe,m=p==qe,w=h==p;if(w&&Sn(e)){if(!Sn(n))return!1;o=!0,x=!1}if(w&&!x)return u||(u=new ke),o||et(e)?Ru(e,n,t,r,i,u):Df(e,n,h,t,r,i,u);if(!(t&ee)){var A=x&&D.call(e,"__wrapped__"),N=m&&D.call(n,"__wrapped__");if(A||N){var F=A?e.value():e,T=N?n.value():n;return u||(u=new ke),i(F,T,t,r,u)}}return w?(u||(u=new ke),Bf(e,n,t,r,i,u)):!1}function df(e){return Y(e)&&oe(e)==q}function fi(e,n,t,r){var i=t.length,u=i,o=!r;if(e==null)return!u;for(e=H(e);i--;){var l=t[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<u;){l=t[i];var h=l[0],p=e[h],x=l[1];if(o&&l[2]){if(p===a&&!(h in e))return!1}else{var m=new ke;if(r)var w=r(p,x,h,e,n,m);if(!(w===a?vt(x,p,ee|Re,r,m):w))return!1}}return!0}function Vs(e){if(!z(e)||Zf(e))return!1;var n=fn(e)?hl:no;return n.test(Pn(e))}function gf(e){return Y(e)&&fe(e)==st}function pf(e){return Y(e)&&oe(e)==$e}function xf(e){return Y(e)&&pr(e.length)&&!!G[fe(e)]}function eu(e){return typeof e=="function"?e:e==null?ve:typeof e=="object"?I(e)?ru(e[0],e[1]):tu(e):ba(e)}function ci(e){if(!yt(e))return vl(e);var n=[];for(var t in H(e))D.call(e,t)&&t!="constructor"&&n.push(t);return n}function mf(e){if(!z(e))return Vf(e);var n=yt(e),t=[];for(var r in e)r=="constructor"&&(n||!D.call(e,r))||t.push(r);return t}function hi(e,n){return e<n}function nu(e,n){var t=-1,r=xe(e)?d(e.length):[];return wn(e,function(i,u,o){r[++t]=n(i,u,o)}),r}function tu(e){var n=Ti(e);return n.length==1&&n[0][2]?Mu(n[0][0],n[0][1]):function(t){return t===e||fi(t,e,n)}}function ru(e,n){return Ii(e)&&Pu(n)?Mu(Je(e),n):function(t){var r=Di(t,e);return r===a&&r===n?Bi(t,e):vt(n,r,ee|Re)}}function Vt(e,n,t,r,i){e!==n&&ui(n,function(u,o){if(i||(i=new ke),z(u))vf(e,n,o,t,Vt,r,i);else{var l=r?r(Ri(e,o),u,o+"",e,n,i):a;l===a&&(l=u),ii(e,o,l)}},me)}function vf(e,n,t,r,i,u,o){var l=Ri(e,t),h=Ri(n,t),p=o.get(h);if(p){ii(e,t,p);return}var x=u?u(l,h,t+"",e,n,o):a,m=x===a;if(m){var w=I(h),A=!w&&Sn(h),N=!w&&!A&&et(h);x=h,w||A||N?I(l)?x=l:Z(l)?x=pe(l):A?(m=!1,x=pu(h,!0)):N?(m=!1,x=xu(h,!0)):x=[]:At(h)||Mn(h)?(x=l,Mn(l)?x=ha(l):(!z(l)||fn(l))&&(x=ju(h))):m=!1}m&&(o.set(h,x),i(x,h,r,u,o),o.delete(h)),ii(e,t,x)}function iu(e,n){var t=e.length;if(t)return n+=n<0?t:0,ln(n,t)?e[n]:a}function su(e,n,t){n.length?n=K(n,function(u){return I(u)?function(o){return On(o,u.length===1?u[0]:u)}:u}):n=[ve];var r=-1;n=K(n,Ae(S()));var i=nu(e,function(u,o,l){var h=K(n,function(p){return p(u)});return{criteria:h,index:++r,value:u}});return Go(i,function(u,o){return Rf(u,o,t)})}function _f(e,n){return uu(e,n,function(t,r){return Bi(e,r)})}function uu(e,n,t){for(var r=-1,i=n.length,u={};++r<i;){var o=n[r],l=On(e,o);t(l,o)&&_t(u,bn(o,e),l)}return u}function wf(e){return function(n){return On(n,e)}}function di(e,n,t,r){var i=r?$o:$n,u=-1,o=n.length,l=e;for(e===n&&(n=pe(n)),t&&(l=K(e,Ae(t)));++u<o;)for(var h=0,p=n[u],x=t?t(p):p;(h=i(l,x,h,r))>-1;)l!==e&&$t.call(l,h,1),$t.call(e,h,1);return e}function au(e,n){for(var t=e?n.length:0,r=t-1;t--;){var i=n[t];if(t==r||i!==u){var u=i;ln(i)?$t.call(e,i,1):mi(e,i)}}return e}function gi(e,n){return e+Kt(Hs()*(n-e+1))}function yf(e,n,t,r){for(var i=-1,u=V(kt((n-e)/(t||1)),0),o=d(u);u--;)o[r?u:++i]=e,e+=t;return o}function pi(e,n){var t="";if(!e||n<1||n>Ze)return t;do n%2&&(t+=e),n=Kt(n/2),n&&(e+=e);while(n);return t}function O(e,n){return Fi(Wu(e,n,ve),e+"")}function bf(e){return Gs(nt(e))}function Af(e,n){var t=nt(e);return lr(t,Fn(n,0,t.length))}function _t(e,n,t,r){if(!z(e))return e;n=bn(n,e);for(var i=-1,u=n.length,o=u-1,l=e;l!=null&&++i<u;){var h=Je(n[i]),p=t;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(i!=o){var x=l[h];p=r?r(x,h,l):a,p===a&&(p=z(x)?x:ln(n[i+1])?[]:{})}pt(l,h,p),l=l[h]}return e}var ou=zt?function(e,n){return zt.set(e,n),e}:ve,Sf=Gt?function(e,n){return Gt(e,"toString",{configurable:!0,enumerable:!1,value:qi(n),writable:!0})}:ve;function Cf(e){return lr(nt(e))}function De(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var u=d(i);++r<i;)u[r]=e[r+n];return u}function Nf(e,n){var t;return wn(e,function(r,i,u){return t=n(r,i,u),!t}),!!t}function er(e,n,t){var r=0,i=e==null?r:e.length;if(typeof n=="number"&&n===n&&i<=Sr){for(;r<i;){var u=r+i>>>1,o=e[u];o!==null&&!Ce(o)&&(t?o<=n:o<n)?r=u+1:i=u}return i}return xi(e,n,ve,t)}function xi(e,n,t,r){var i=0,u=e==null?0:e.length;if(u===0)return 0;n=t(n);for(var o=n!==n,l=n===null,h=Ce(n),p=n===a;i<u;){var x=Kt((i+u)/2),m=t(e[x]),w=m!==a,A=m===null,N=m===m,F=Ce(m);if(o)var T=r||N;else p?T=N&&(r||w):l?T=N&&w&&(r||!A):h?T=N&&w&&!A&&(r||!F):A||F?T=!1:T=r?m<=n:m<n;T?i=x+1:u=x}return ae(u,Ar)}function lu(e,n){for(var t=-1,r=e.length,i=0,u=[];++t<r;){var o=e[t],l=n?n(o):o;if(!t||!Ke(l,h)){var h=l;u[i++]=o===0?0:o}}return u}function fu(e){return typeof e=="number"?e:Ce(e)?Dn:+e}function Se(e){if(typeof e=="string")return e;if(I(e))return K(e,Se)+"";if(Ce(e))return qs?qs.call(e):"";var n=e+"";return n=="0"&&1/e==-nn?"-0":n}function yn(e,n,t){var r=-1,i=Ot,u=e.length,o=!0,l=[],h=l;if(t)o=!1,i=kr;else if(u>=k){var p=n?null:Wf(e);if(p)return Pt(p);o=!1,i=lt,h=new Rn}else h=n?[]:l;e:for(;++r<u;){var x=e[r],m=n?n(x):x;if(x=t||x!==0?x:0,o&&m===m){for(var w=h.length;w--;)if(h[w]===m)continue e;n&&h.push(m),l.push(x)}else i(h,m,t)||(h!==l&&h.push(m),l.push(x))}return l}function mi(e,n){return n=bn(n,e),e=Uu(e,n),e==null||delete e[Je(Be(n))]}function cu(e,n,t,r){return _t(e,n,t(On(e,n)),r)}function nr(e,n,t,r){for(var i=e.length,u=r?i:-1;(r?u--:++u<i)&&n(e[u],u,e););return t?De(e,r?0:u,r?u+1:i):De(e,r?u+1:0,r?i:u)}function hu(e,n){var t=e;return t instanceof P&&(t=t.value()),Kr(n,function(r,i){return i.func.apply(i.thisArg,mn([r],i.args))},t)}function vi(e,n,t){var r=e.length;if(r<2)return r?yn(e[0]):[];for(var i=-1,u=d(r);++i<r;)for(var o=e[i],l=-1;++l<r;)l!=i&&(u[i]=xt(u[i]||o,e[l],n,t));return yn(ie(u,1),n,t)}function du(e,n,t){for(var r=-1,i=e.length,u=n.length,o={};++r<i;){var l=r<u?n[r]:a;t(o,e[r],l)}return o}function _i(e){return Z(e)?e:[]}function wi(e){return typeof e=="function"?e:ve}function bn(e,n){return I(e)?e:Ii(e,n)?[e]:qu(U(e))}var Tf=O;function An(e,n,t){var r=e.length;return t=t===a?r:t,!n&&t>=r?e:De(e,n,t)}var gu=dl||function(e){return re.clearTimeout(e)};function pu(e,n){if(n)return e.slice();var t=e.length,r=Ms?Ms(t):new e.constructor(t);return e.copy(r),r}function yi(e){var n=new e.constructor(e.byteLength);return new Ht(n).set(new Ht(e)),n}function Ef(e,n){var t=n?yi(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function If(e){var n=new e.constructor(e.source,Ji.exec(e));return n.lastIndex=e.lastIndex,n}function Lf(e){return gt?H(gt.call(e)):{}}function xu(e,n){var t=n?yi(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function mu(e,n){if(e!==n){var t=e!==a,r=e===null,i=e===e,u=Ce(e),o=n!==a,l=n===null,h=n===n,p=Ce(n);if(!l&&!p&&!u&&e>n||u&&o&&h&&!l&&!p||r&&o&&h||!t&&h||!i)return 1;if(!r&&!u&&!p&&e<n||p&&t&&i&&!r&&!u||l&&t&&i||!o&&i||!h)return-1}return 0}function Rf(e,n,t){for(var r=-1,i=e.criteria,u=n.criteria,o=i.length,l=t.length;++r<o;){var h=mu(i[r],u[r]);if(h){if(r>=l)return h;var p=t[r];return h*(p=="desc"?-1:1)}}return e.index-n.index}function vu(e,n,t,r){for(var i=-1,u=e.length,o=t.length,l=-1,h=n.length,p=V(u-o,0),x=d(h+p),m=!r;++l<h;)x[l]=n[l];for(;++i<o;)(m||i<u)&&(x[t[i]]=e[i]);for(;p--;)x[l++]=e[i++];return x}function _u(e,n,t,r){for(var i=-1,u=e.length,o=-1,l=t.length,h=-1,p=n.length,x=V(u-l,0),m=d(x+p),w=!r;++i<x;)m[i]=e[i];for(var A=i;++h<p;)m[A+h]=n[h];for(;++o<l;)(w||i<u)&&(m[A+t[o]]=e[i++]);return m}function pe(e,n){var t=-1,r=e.length;for(n||(n=d(r));++t<r;)n[t]=e[t];return n}function Xe(e,n,t,r){var i=!t;t||(t={});for(var u=-1,o=n.length;++u<o;){var l=n[u],h=r?r(t[l],e[l],l,t,e):a;h===a&&(h=e[l]),i?un(t,l,h):pt(t,l,h)}return t}function Ff(e,n){return Xe(e,Ei(e),n)}function Of(e,n){return Xe(e,Fu(e),n)}function tr(e,n){return function(t,r){var i=I(t)?Wo:ef,u=n?n():{};return i(t,e,S(r,2),u)}}function Xn(e){return O(function(n,t){var r=-1,i=t.length,u=i>1?t[i-1]:a,o=i>2?t[2]:a;for(u=e.length>3&&typeof u=="function"?(i--,u):a,o&&ce(t[0],t[1],o)&&(u=i<3?a:u,i=1),n=H(n);++r<i;){var l=t[r];l&&e(n,l,r,u)}return n})}function wu(e,n){return function(t,r){if(t==null)return t;if(!xe(t))return e(t,r);for(var i=t.length,u=n?i:-1,o=H(t);(n?u--:++u<i)&&r(o[u],u,o)!==!1;);return t}}function yu(e){return function(n,t,r){for(var i=-1,u=H(n),o=r(n),l=o.length;l--;){var h=o[e?l:++i];if(t(u[h],h,u)===!1)break}return n}}function jf(e,n,t){var r=n&se,i=wt(e);function u(){var o=this&&this!==re&&this instanceof u?i:e;return o.apply(r?t:this,arguments)}return u}function bu(e){return function(n){n=U(n);var t=Gn(n)?Ge(n):a,r=t?t[0]:n.charAt(0),i=t?An(t,1).join(""):n.slice(1);return r[e]()+i}}function Jn(e){return function(n){return Kr(wa(_a(n).replace(Ao,"")),e,"")}}function wt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=Qn(e.prototype),r=e.apply(t,n);return z(r)?r:t}}function Pf(e,n,t){var r=wt(e);function i(){for(var u=arguments.length,o=d(u),l=u,h=Vn(i);l--;)o[l]=arguments[l];var p=u<3&&o[0]!==h&&o[u-1]!==h?[]:vn(o,h);if(u-=p.length,u<t)return Tu(e,n,rr,i.placeholder,a,o,p,a,a,t-u);var x=this&&this!==re&&this instanceof i?r:e;return be(x,this,o)}return i}function Au(e){return function(n,t,r){var i=H(n);if(!xe(n)){var u=S(t,3);n=ne(n),t=function(l){return u(i[l],l,i)}}var o=e(n,t,r);return o>-1?i[u?n[o]:o]:a}}function Su(e){return on(function(n){var t=n.length,r=t,i=We.prototype.thru;for(e&&n.reverse();r--;){var u=n[r];if(typeof u!="function")throw new Me(R);if(i&&!o&&ar(u)=="wrapper")var o=new We([],!0)}for(r=o?r:t;++r<t;){u=n[r];var l=ar(u),h=l=="wrapper"?Ni(u):a;h&&Li(h[0])&&h[1]==(Fe|we|ye|en)&&!h[4].length&&h[9]==1?o=o[ar(h[0])].apply(o,h[3]):o=u.length==1&&Li(u)?o[l]():o.thru(u)}return function(){var p=arguments,x=p[0];if(o&&p.length==1&&I(x))return o.plant(x).value();for(var m=0,w=t?n[m].apply(this,p):x;++m<t;)w=n[m].call(this,w);return w}})}function rr(e,n,t,r,i,u,o,l,h,p){var x=n&Fe,m=n&se,w=n&dn,A=n&(we|ue),N=n&it,F=w?a:wt(e);function T(){for(var j=arguments.length,M=d(j),Ne=j;Ne--;)M[Ne]=arguments[Ne];if(A)var he=Vn(T),Te=Ko(M,he);if(r&&(M=vu(M,r,i,A)),u&&(M=_u(M,u,o,A)),j-=Te,A&&j<p){var Q=vn(M,he);return Tu(e,n,rr,T.placeholder,t,M,Q,l,h,p-j)}var ze=m?t:this,hn=w?ze[e]:e;return j=M.length,l?M=nc(M,l):N&&j>1&&M.reverse(),x&&h<j&&(M.length=h),this&&this!==re&&this instanceof T&&(hn=F||wt(hn)),hn.apply(ze,M)}return T}function Cu(e,n){return function(t,r){return lf(t,e,n(r),{})}}function ir(e,n){return function(t,r){var i;if(t===a&&r===a)return n;if(t!==a&&(i=t),r!==a){if(i===a)return r;typeof t=="string"||typeof r=="string"?(t=Se(t),r=Se(r)):(t=fu(t),r=fu(r)),i=e(t,r)}return i}}function bi(e){return on(function(n){return n=K(n,Ae(S())),O(function(t){var r=this;return e(n,function(i){return be(i,r,t)})})})}function sr(e,n){n=n===a?" ":Se(n);var t=n.length;if(t<2)return t?pi(n,e):n;var r=pi(n,kt(e/kn(n)));return Gn(n)?An(Ge(r),0,e).join(""):r.slice(0,e)}function Mf(e,n,t,r){var i=n&se,u=wt(e);function o(){for(var l=-1,h=arguments.length,p=-1,x=r.length,m=d(x+h),w=this&&this!==re&&this instanceof o?u:e;++p<x;)m[p]=r[p];for(;h--;)m[p++]=arguments[++l];return be(w,i?t:this,m)}return o}function Nu(e){return function(n,t,r){return r&&typeof r!="number"&&ce(n,t,r)&&(t=r=a),n=cn(n),t===a?(t=n,n=0):t=cn(t),r=r===a?n<t?1:-1:cn(r),yf(n,t,r,e)}}function ur(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=He(n),t=He(t)),e(n,t)}}function Tu(e,n,t,r,i,u,o,l,h,p){var x=n&we,m=x?o:a,w=x?a:o,A=x?u:a,N=x?a:u;n|=x?ye:Nn,n&=~(x?Nn:ye),n&rt||(n&=-4);var F=[e,n,i,A,m,N,w,l,h,p],T=t.apply(a,F);return Li(e)&&Du(T,F),T.placeholder=r,Bu(T,e,n)}function Ai(e){var n=J[e];return function(t,r){if(t=He(t),r=r==null?0:ae(L(r),292),r&&Bs(t)){var i=(U(t)+"e").split("e"),u=n(i[0]+"e"+(+i[1]+r));return i=(U(u)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return n(t)}}var Wf=Yn&&1/Pt(new Yn([,-0]))[1]==nn?function(e){return new Yn(e)}:ki;function Eu(e){return function(n){var t=oe(n);return t==q?Vr(n):t==$e?Vo(n):ko(n,e(n))}}function an(e,n,t,r,i,u,o,l){var h=n&dn;if(!h&&typeof e!="function")throw new Me(R);var p=r?r.length:0;if(p||(n&=-97,r=i=a),o=o===a?o:V(L(o),0),l=l===a?l:L(l),p-=i?i.length:0,n&Nn){var x=r,m=i;r=i=a}var w=h?a:Ni(e),A=[e,n,t,r,i,x,m,u,o,l];if(w&&Jf(A,w),e=A[0],n=A[1],t=A[2],r=A[3],i=A[4],l=A[9]=A[9]===a?h?0:e.length:V(A[9]-p,0),!l&&n&(we|ue)&&(n&=-25),!n||n==se)var N=jf(e,n,t);else n==we||n==ue?N=Pf(e,n,l):(n==ye||n==(se|ye))&&!i.length?N=Mf(e,n,t,r):N=rr.apply(a,A);var F=w?ou:Du;return Bu(F(N,A),e,n)}function Iu(e,n,t,r){return e===a||Ke(e,zn[t])&&!D.call(r,t)?n:e}function Lu(e,n,t,r,i,u){return z(e)&&z(n)&&(u.set(n,e),Vt(e,n,a,Lu,u),u.delete(n)),e}function Uf(e){return At(e)?a:e}function Ru(e,n,t,r,i,u){var o=t&ee,l=e.length,h=n.length;if(l!=h&&!(o&&h>l))return!1;var p=u.get(e),x=u.get(n);if(p&&x)return p==n&&x==e;var m=-1,w=!0,A=t&Re?new Rn:a;for(u.set(e,n),u.set(n,e);++m<l;){var N=e[m],F=n[m];if(r)var T=o?r(F,N,m,n,e,u):r(N,F,m,e,n,u);if(T!==a){if(T)continue;w=!1;break}if(A){if(!zr(n,function(j,M){if(!lt(A,M)&&(N===j||i(N,j,t,r,u)))return A.push(M)})){w=!1;break}}else if(!(N===F||i(N,F,t,r,u))){w=!1;break}}return u.delete(e),u.delete(n),w}function Df(e,n,t,r,i,u,o){switch(t){case Hn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case ot:return!(e.byteLength!=n.byteLength||!u(new Ht(e),new Ht(n)));case pn:case tn:case ge:return Ke(+e,+n);case v:return e.name==n.name&&e.message==n.message;case st:case ut:return e==n+"";case q:var l=Vr;case $e:var h=r&ee;if(l||(l=Pt),e.size!=n.size&&!h)return!1;var p=o.get(e);if(p)return p==n;r|=Re,o.set(e,n);var x=Ru(l(e),l(n),r,i,u,o);return o.delete(e),x;case It:if(gt)return gt.call(e)==gt.call(n)}return!1}function Bf(e,n,t,r,i,u){var o=t&ee,l=Si(e),h=l.length,p=Si(n),x=p.length;if(h!=x&&!o)return!1;for(var m=h;m--;){var w=l[m];if(!(o?w in n:D.call(n,w)))return!1}var A=u.get(e),N=u.get(n);if(A&&N)return A==n&&N==e;var F=!0;u.set(e,n),u.set(n,e);for(var T=o;++m<h;){w=l[m];var j=e[w],M=n[w];if(r)var Ne=o?r(M,j,w,n,e,u):r(j,M,w,e,n,u);if(!(Ne===a?j===M||i(j,M,t,r,u):Ne)){F=!1;break}T||(T=w=="constructor")}if(F&&!T){var he=e.constructor,Te=n.constructor;he!=Te&&"constructor"in e&&"constructor"in n&&!(typeof he=="function"&&he instanceof he&&typeof Te=="function"&&Te instanceof Te)&&(F=!1)}return u.delete(e),u.delete(n),F}function on(e){return Fi(Wu(e,a,Ku),e+"")}function Si(e){return Xs(e,ne,Ei)}function Ci(e){return Xs(e,me,Fu)}var Ni=zt?function(e){return zt.get(e)}:ki;function ar(e){for(var n=e.name+"",t=Zn[n],r=D.call(Zn,n)?t.length:0;r--;){var i=t[r],u=i.func;if(u==null||u==e)return i.name}return n}function Vn(e){var n=D.call(s,"placeholder")?s:e;return n.placeholder}function S(){var e=s.iteratee||$i;return e=e===$i?eu:e,arguments.length?e(arguments[0],arguments[1]):e}function or(e,n){var t=e.__data__;return Yf(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Ti(e){for(var n=ne(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,Pu(i)]}return n}function jn(e,n){var t=Qo(e,n);return Vs(t)?t:a}function Hf(e){var n=D.call(e,In),t=e[In];try{e[In]=a;var r=!0}catch{}var i=Dt.call(e);return r&&(n?e[In]=t:delete e[In]),i}var Ei=ni?function(e){return e==null?[]:(e=H(e),xn(ni(e),function(n){return Us.call(e,n)}))}:Ki,Fu=ni?function(e){for(var n=[];e;)mn(n,Ei(e)),e=qt(e);return n}:Ki,oe=fe;(ti&&oe(new ti(new ArrayBuffer(1)))!=Hn||ct&&oe(new ct)!=q||ri&&oe(ri.resolve())!=Yi||Yn&&oe(new Yn)!=$e||ht&&oe(new ht)!=at)&&(oe=function(e){var n=fe(e),t=n==qe?e.constructor:a,r=t?Pn(t):"";if(r)switch(r){case bl:return Hn;case Al:return q;case Sl:return Yi;case Cl:return $e;case Nl:return at}return n});function qf(e,n,t){for(var r=-1,i=t.length;++r<i;){var u=t[r],o=u.size;switch(u.type){case"drop":e+=o;break;case"dropRight":n-=o;break;case"take":n=ae(n,e+o);break;case"takeRight":e=V(e,n-o);break}}return{start:e,end:n}}function $f(e){var n=e.match(za);return n?n[1].split(Ya):[]}function Ou(e,n,t){n=bn(n,e);for(var r=-1,i=n.length,u=!1;++r<i;){var o=Je(n[r]);if(!(u=e!=null&&t(e,o)))break;e=e[o]}return u||++r!=i?u:(i=e==null?0:e.length,!!i&&pr(i)&&ln(o,i)&&(I(e)||Mn(e)))}function Gf(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&D.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function ju(e){return typeof e.constructor=="function"&&!yt(e)?Qn(qt(e)):{}}function kf(e,n,t){var r=e.constructor;switch(n){case ot:return yi(e);case pn:case tn:return new r(+e);case Hn:return Ef(e,t);case Tr:case Er:case Ir:case Lr:case Rr:case Fr:case Or:case jr:case Pr:return xu(e,t);case q:return new r;case ge:case ut:return new r(e);case st:return If(e);case $e:return new r;case It:return Lf(e)}}function Kf(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(Ka,`{
/* [wrapped with `+n+`] */
`)}function zf(e){return I(e)||Mn(e)||!!(Ds&&e&&e[Ds])}function ln(e,n){var t=typeof e;return n=n??Ze,!!n&&(t=="number"||t!="symbol"&&ro.test(e))&&e>-1&&e%1==0&&e<n}function ce(e,n,t){if(!z(t))return!1;var r=typeof n;return(r=="number"?xe(t)&&ln(n,t.length):r=="string"&&n in t)?Ke(t[n],e):!1}function Ii(e,n){if(I(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Ce(e)?!0:qa.test(e)||!Ha.test(e)||n!=null&&e in H(n)}function Yf(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Li(e){var n=ar(e),t=s[n];if(typeof t!="function"||!(n in P.prototype))return!1;if(e===t)return!0;var r=Ni(t);return!!r&&e===r[0]}function Zf(e){return!!Ps&&Ps in e}var Qf=Wt?fn:zi;function yt(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||zn;return e===t}function Pu(e){return e===e&&!z(e)}function Mu(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==a||e in H(t))}}function Xf(e){var n=dr(e,function(r){return t.size===tt&&t.clear(),r}),t=n.cache;return n}function Jf(e,n){var t=e[1],r=n[1],i=t|r,u=i<(se|dn|Fe),o=r==Fe&&t==we||r==Fe&&t==en&&e[7].length<=n[8]||r==(Fe|en)&&n[7].length<=n[8]&&t==we;if(!(u||o))return e;r&se&&(e[2]=n[2],i|=t&se?0:rt);var l=n[3];if(l){var h=e[3];e[3]=h?vu(h,l,n[4]):l,e[4]=h?vn(e[3],Wn):n[4]}return l=n[5],l&&(h=e[5],e[5]=h?_u(h,l,n[6]):l,e[6]=h?vn(e[5],Wn):n[6]),l=n[7],l&&(e[7]=l),r&Fe&&(e[8]=e[8]==null?n[8]:ae(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=i,e}function Vf(e){var n=[];if(e!=null)for(var t in H(e))n.push(t);return n}function ec(e){return Dt.call(e)}function Wu(e,n,t){return n=V(n===a?e.length-1:n,0),function(){for(var r=arguments,i=-1,u=V(r.length-n,0),o=d(u);++i<u;)o[i]=r[n+i];i=-1;for(var l=d(n+1);++i<n;)l[i]=r[i];return l[n]=t(o),be(e,this,l)}}function Uu(e,n){return n.length<2?e:On(e,De(n,0,-1))}function nc(e,n){for(var t=e.length,r=ae(n.length,t),i=pe(e);r--;){var u=n[r];e[r]=ln(u,t)?i[u]:a}return e}function Ri(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Du=Hu(ou),bt=pl||function(e,n){return re.setTimeout(e,n)},Fi=Hu(Sf);function Bu(e,n,t){var r=n+"";return Fi(e,Kf(r,tc($f(r),t)))}function Hu(e){var n=0,t=0;return function(){var r=_l(),i=wr-(r-t);if(t=r,i>0){if(++n>=_r)return arguments[0]}else n=0;return e.apply(a,arguments)}}function lr(e,n){var t=-1,r=e.length,i=r-1;for(n=n===a?r:n;++t<n;){var u=gi(t,i),o=e[u];e[u]=e[t],e[t]=o}return e.length=n,e}var qu=Xf(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace($a,function(t,r,i,u){n.push(i?u.replace(Xa,"$1"):r||t)}),n});function Je(e){if(typeof e=="string"||Ce(e))return e;var n=e+"";return n=="0"&&1/e==-nn?"-0":n}function Pn(e){if(e!=null){try{return Ut.call(e)}catch{}try{return e+""}catch{}}return""}function tc(e,n){return Pe(Cr,function(t){var r="_."+t[0];n&t[1]&&!Ot(e,r)&&e.push(r)}),e.sort()}function $u(e){if(e instanceof P)return e.clone();var n=new We(e.__wrapped__,e.__chain__);return n.__actions__=pe(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function rc(e,n,t){(t?ce(e,n,t):n===a)?n=1:n=V(L(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var i=0,u=0,o=d(kt(r/n));i<r;)o[u++]=De(e,i,i+=n);return o}function ic(e){for(var n=-1,t=e==null?0:e.length,r=0,i=[];++n<t;){var u=e[n];u&&(i[r++]=u)}return i}function sc(){var e=arguments.length;if(!e)return[];for(var n=d(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return mn(I(t)?pe(t):[t],ie(n,1))}var uc=O(function(e,n){return Z(e)?xt(e,ie(n,1,Z,!0)):[]}),ac=O(function(e,n){var t=Be(n);return Z(t)&&(t=a),Z(e)?xt(e,ie(n,1,Z,!0),S(t,2)):[]}),oc=O(function(e,n){var t=Be(n);return Z(t)&&(t=a),Z(e)?xt(e,ie(n,1,Z,!0),a,t):[]});function lc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===a?1:L(n),De(e,n<0?0:n,r)):[]}function fc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===a?1:L(n),n=r-n,De(e,0,n<0?0:n)):[]}function cc(e,n){return e&&e.length?nr(e,S(n,3),!0,!0):[]}function hc(e,n){return e&&e.length?nr(e,S(n,3),!0):[]}function dc(e,n,t,r){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&ce(e,n,t)&&(t=0,r=i),sf(e,n,t,r)):[]}function Gu(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:L(t);return i<0&&(i=V(r+i,0)),jt(e,S(n,3),i)}function ku(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return t!==a&&(i=L(t),i=t<0?V(r+i,0):ae(i,r-1)),jt(e,S(n,3),i,!0)}function Ku(e){var n=e==null?0:e.length;return n?ie(e,1):[]}function gc(e){var n=e==null?0:e.length;return n?ie(e,nn):[]}function pc(e,n){var t=e==null?0:e.length;return t?(n=n===a?1:L(n),ie(e,n)):[]}function xc(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var i=e[n];r[i[0]]=i[1]}return r}function zu(e){return e&&e.length?e[0]:a}function mc(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:L(t);return i<0&&(i=V(r+i,0)),$n(e,n,i)}function vc(e){var n=e==null?0:e.length;return n?De(e,0,-1):[]}var _c=O(function(e){var n=K(e,_i);return n.length&&n[0]===e[0]?li(n):[]}),wc=O(function(e){var n=Be(e),t=K(e,_i);return n===Be(t)?n=a:t.pop(),t.length&&t[0]===e[0]?li(t,S(n,2)):[]}),yc=O(function(e){var n=Be(e),t=K(e,_i);return n=typeof n=="function"?n:a,n&&t.pop(),t.length&&t[0]===e[0]?li(t,a,n):[]});function bc(e,n){return e==null?"":ml.call(e,n)}function Be(e){var n=e==null?0:e.length;return n?e[n-1]:a}function Ac(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r;return t!==a&&(i=L(t),i=i<0?V(r+i,0):ae(i,r-1)),n===n?nl(e,n,i):jt(e,Ts,i,!0)}function Sc(e,n){return e&&e.length?iu(e,L(n)):a}var Cc=O(Yu);function Yu(e,n){return e&&e.length&&n&&n.length?di(e,n):e}function Nc(e,n,t){return e&&e.length&&n&&n.length?di(e,n,S(t,2)):e}function Tc(e,n,t){return e&&e.length&&n&&n.length?di(e,n,a,t):e}var Ec=on(function(e,n){var t=e==null?0:e.length,r=si(e,n);return au(e,K(n,function(i){return ln(i,t)?+i:i}).sort(mu)),r});function Ic(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,i=[],u=e.length;for(n=S(n,3);++r<u;){var o=e[r];n(o,r,e)&&(t.push(o),i.push(r))}return au(e,i),t}function Oi(e){return e==null?e:yl.call(e)}function Lc(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&ce(e,n,t)?(n=0,t=r):(n=n==null?0:L(n),t=t===a?r:L(t)),De(e,n,t)):[]}function Rc(e,n){return er(e,n)}function Fc(e,n,t){return xi(e,n,S(t,2))}function Oc(e,n){var t=e==null?0:e.length;if(t){var r=er(e,n);if(r<t&&Ke(e[r],n))return r}return-1}function jc(e,n){return er(e,n,!0)}function Pc(e,n,t){return xi(e,n,S(t,2),!0)}function Mc(e,n){var t=e==null?0:e.length;if(t){var r=er(e,n,!0)-1;if(Ke(e[r],n))return r}return-1}function Wc(e){return e&&e.length?lu(e):[]}function Uc(e,n){return e&&e.length?lu(e,S(n,2)):[]}function Dc(e){var n=e==null?0:e.length;return n?De(e,1,n):[]}function Bc(e,n,t){return e&&e.length?(n=t||n===a?1:L(n),De(e,0,n<0?0:n)):[]}function Hc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===a?1:L(n),n=r-n,De(e,n<0?0:n,r)):[]}function qc(e,n){return e&&e.length?nr(e,S(n,3),!1,!0):[]}function $c(e,n){return e&&e.length?nr(e,S(n,3)):[]}var Gc=O(function(e){return yn(ie(e,1,Z,!0))}),kc=O(function(e){var n=Be(e);return Z(n)&&(n=a),yn(ie(e,1,Z,!0),S(n,2))}),Kc=O(function(e){var n=Be(e);return n=typeof n=="function"?n:a,yn(ie(e,1,Z,!0),a,n)});function zc(e){return e&&e.length?yn(e):[]}function Yc(e,n){return e&&e.length?yn(e,S(n,2)):[]}function Zc(e,n){return n=typeof n=="function"?n:a,e&&e.length?yn(e,a,n):[]}function ji(e){if(!(e&&e.length))return[];var n=0;return e=xn(e,function(t){if(Z(t))return n=V(t.length,n),!0}),Xr(n,function(t){return K(e,Yr(t))})}function Zu(e,n){if(!(e&&e.length))return[];var t=ji(e);return n==null?t:K(t,function(r){return be(n,a,r)})}var Qc=O(function(e,n){return Z(e)?xt(e,n):[]}),Xc=O(function(e){return vi(xn(e,Z))}),Jc=O(function(e){var n=Be(e);return Z(n)&&(n=a),vi(xn(e,Z),S(n,2))}),Vc=O(function(e){var n=Be(e);return n=typeof n=="function"?n:a,vi(xn(e,Z),a,n)}),eh=O(ji);function nh(e,n){return du(e||[],n||[],pt)}function th(e,n){return du(e||[],n||[],_t)}var rh=O(function(e){var n=e.length,t=n>1?e[n-1]:a;return t=typeof t=="function"?(e.pop(),t):a,Zu(e,t)});function Qu(e){var n=s(e);return n.__chain__=!0,n}function ih(e,n){return n(e),e}function fr(e,n){return n(e)}var sh=on(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,i=function(u){return si(u,e)};return n>1||this.__actions__.length||!(r instanceof P)||!ln(t)?this.thru(i):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:fr,args:[i],thisArg:a}),new We(r,this.__chain__).thru(function(u){return n&&!u.length&&u.push(a),u}))});function uh(){return Qu(this)}function ah(){return new We(this.value(),this.__chain__)}function oh(){this.__values__===a&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length,n=e?a:this.__values__[this.__index__++];return{done:e,value:n}}function lh(){return this}function fh(e){for(var n,t=this;t instanceof Zt;){var r=$u(t);r.__index__=0,r.__values__=a,n?i.__wrapped__=r:n=r;var i=r;t=t.__wrapped__}return i.__wrapped__=e,n}function ch(){var e=this.__wrapped__;if(e instanceof P){var n=e;return this.__actions__.length&&(n=new P(this)),n=n.reverse(),n.__actions__.push({func:fr,args:[Oi],thisArg:a}),new We(n,this.__chain__)}return this.thru(Oi)}function hh(){return hu(this.__wrapped__,this.__actions__)}var dh=tr(function(e,n,t){D.call(e,t)?++e[t]:un(e,t,1)});function gh(e,n,t){var r=I(e)?Cs:rf;return t&&ce(e,n,t)&&(n=a),r(e,S(n,3))}function ph(e,n){var t=I(e)?xn:Zs;return t(e,S(n,3))}var xh=Au(Gu),mh=Au(ku);function vh(e,n){return ie(cr(e,n),1)}function _h(e,n){return ie(cr(e,n),nn)}function wh(e,n,t){return t=t===a?1:L(t),ie(cr(e,n),t)}function Xu(e,n){var t=I(e)?Pe:wn;return t(e,S(n,3))}function Ju(e,n){var t=I(e)?Uo:Ys;return t(e,S(n,3))}var yh=tr(function(e,n,t){D.call(e,t)?e[t].push(n):un(e,t,[n])});function bh(e,n,t,r){e=xe(e)?e:nt(e),t=t&&!r?L(t):0;var i=e.length;return t<0&&(t=V(i+t,0)),xr(e)?t<=i&&e.indexOf(n,t)>-1:!!i&&$n(e,n,t)>-1}var Ah=O(function(e,n,t){var r=-1,i=typeof n=="function",u=xe(e)?d(e.length):[];return wn(e,function(o){u[++r]=i?be(n,o,t):mt(o,n,t)}),u}),Sh=tr(function(e,n,t){un(e,t,n)});function cr(e,n){var t=I(e)?K:nu;return t(e,S(n,3))}function Ch(e,n,t,r){return e==null?[]:(I(n)||(n=n==null?[]:[n]),t=r?a:t,I(t)||(t=t==null?[]:[t]),su(e,n,t))}var Nh=tr(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function Th(e,n,t){var r=I(e)?Kr:Is,i=arguments.length<3;return r(e,S(n,4),t,i,wn)}function Eh(e,n,t){var r=I(e)?Do:Is,i=arguments.length<3;return r(e,S(n,4),t,i,Ys)}function Ih(e,n){var t=I(e)?xn:Zs;return t(e,gr(S(n,3)))}function Lh(e){var n=I(e)?Gs:bf;return n(e)}function Rh(e,n,t){(t?ce(e,n,t):n===a)?n=1:n=L(n);var r=I(e)?Jl:Af;return r(e,n)}function Fh(e){var n=I(e)?Vl:Cf;return n(e)}function Oh(e){if(e==null)return 0;if(xe(e))return xr(e)?kn(e):e.length;var n=oe(e);return n==q||n==$e?e.size:ci(e).length}function jh(e,n,t){var r=I(e)?zr:Nf;return t&&ce(e,n,t)&&(n=a),r(e,S(n,3))}var Ph=O(function(e,n){if(e==null)return[];var t=n.length;return t>1&&ce(e,n[0],n[1])?n=[]:t>2&&ce(n[0],n[1],n[2])&&(n=[n[0]]),su(e,ie(n,1),[])}),hr=gl||function(){return re.Date.now()};function Mh(e,n){if(typeof n!="function")throw new Me(R);return e=L(e),function(){if(--e<1)return n.apply(this,arguments)}}function Vu(e,n,t){return n=t?a:n,n=e&&n==null?e.length:n,an(e,Fe,a,a,a,a,n)}function ea(e,n){var t;if(typeof n!="function")throw new Me(R);return e=L(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=a),t}}var Pi=O(function(e,n,t){var r=se;if(t.length){var i=vn(t,Vn(Pi));r|=ye}return an(e,r,n,t,i)}),na=O(function(e,n,t){var r=se|dn;if(t.length){var i=vn(t,Vn(na));r|=ye}return an(n,r,e,t,i)});function ta(e,n,t){n=t?a:n;var r=an(e,we,a,a,a,a,a,n);return r.placeholder=ta.placeholder,r}function ra(e,n,t){n=t?a:n;var r=an(e,ue,a,a,a,a,a,n);return r.placeholder=ra.placeholder,r}function ia(e,n,t){var r,i,u,o,l,h,p=0,x=!1,m=!1,w=!0;if(typeof e!="function")throw new Me(R);n=He(n)||0,z(t)&&(x=!!t.leading,m="maxWait"in t,u=m?V(He(t.maxWait)||0,n):u,w="trailing"in t?!!t.trailing:w);function A(Q){var ze=r,hn=i;return r=i=a,p=Q,o=e.apply(hn,ze),o}function N(Q){return p=Q,l=bt(j,n),x?A(Q):o}function F(Q){var ze=Q-h,hn=Q-p,Aa=n-ze;return m?ae(Aa,u-hn):Aa}function T(Q){var ze=Q-h,hn=Q-p;return h===a||ze>=n||ze<0||m&&hn>=u}function j(){var Q=hr();if(T(Q))return M(Q);l=bt(j,F(Q))}function M(Q){return l=a,w&&r?A(Q):(r=i=a,o)}function Ne(){l!==a&&gu(l),p=0,r=h=i=l=a}function he(){return l===a?o:M(hr())}function Te(){var Q=hr(),ze=T(Q);if(r=arguments,i=this,h=Q,ze){if(l===a)return N(h);if(m)return gu(l),l=bt(j,n),A(h)}return l===a&&(l=bt(j,n)),o}return Te.cancel=Ne,Te.flush=he,Te}var Wh=O(function(e,n){return zs(e,1,n)}),Uh=O(function(e,n,t){return zs(e,He(n)||0,t)});function Dh(e){return an(e,it)}function dr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Me(R);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],u=t.cache;if(u.has(i))return u.get(i);var o=e.apply(this,r);return t.cache=u.set(i,o)||u,o};return t.cache=new(dr.Cache||sn),t}dr.Cache=sn;function gr(e){if(typeof e!="function")throw new Me(R);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function Bh(e){return ea(2,e)}var Hh=Tf(function(e,n){n=n.length==1&&I(n[0])?K(n[0],Ae(S())):K(ie(n,1),Ae(S()));var t=n.length;return O(function(r){for(var i=-1,u=ae(r.length,t);++i<u;)r[i]=n[i].call(this,r[i]);return be(e,this,r)})}),Mi=O(function(e,n){var t=vn(n,Vn(Mi));return an(e,ye,a,n,t)}),sa=O(function(e,n){var t=vn(n,Vn(sa));return an(e,Nn,a,n,t)}),qh=on(function(e,n){return an(e,en,a,a,a,n)});function $h(e,n){if(typeof e!="function")throw new Me(R);return n=n===a?n:L(n),O(e,n)}function Gh(e,n){if(typeof e!="function")throw new Me(R);return n=n==null?0:V(L(n),0),O(function(t){var r=t[n],i=An(t,0,n);return r&&mn(i,r),be(e,this,i)})}function kh(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new Me(R);return z(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),ia(e,n,{leading:r,maxWait:n,trailing:i})}function Kh(e){return Vu(e,1)}function zh(e,n){return Mi(wi(n),e)}function Yh(){if(!arguments.length)return[];var e=arguments[0];return I(e)?e:[e]}function Zh(e){return Ue(e,Ye)}function Qh(e,n){return n=typeof n=="function"?n:a,Ue(e,Ye,n)}function Xh(e){return Ue(e,Le|Ye)}function Jh(e,n){return n=typeof n=="function"?n:a,Ue(e,Le|Ye,n)}function Vh(e,n){return n==null||Ks(e,n,ne(n))}function Ke(e,n){return e===n||e!==e&&n!==n}var ed=ur(oi),nd=ur(function(e,n){return e>=n}),Mn=Js((function(){return arguments})())?Js:function(e){return Y(e)&&D.call(e,"callee")&&!Us.call(e,"callee")},I=d.isArray,td=_s?Ae(_s):ff;function xe(e){return e!=null&&pr(e.length)&&!fn(e)}function Z(e){return Y(e)&&xe(e)}function rd(e){return e===!0||e===!1||Y(e)&&fe(e)==pn}var Sn=xl||zi,id=ws?Ae(ws):cf;function sd(e){return Y(e)&&e.nodeType===1&&!At(e)}function ud(e){if(e==null)return!0;if(xe(e)&&(I(e)||typeof e=="string"||typeof e.splice=="function"||Sn(e)||et(e)||Mn(e)))return!e.length;var n=oe(e);if(n==q||n==$e)return!e.size;if(yt(e))return!ci(e).length;for(var t in e)if(D.call(e,t))return!1;return!0}function ad(e,n){return vt(e,n)}function od(e,n,t){t=typeof t=="function"?t:a;var r=t?t(e,n):a;return r===a?vt(e,n,a,t):!!r}function Wi(e){if(!Y(e))return!1;var n=fe(e);return n==v||n==Nr||typeof e.message=="string"&&typeof e.name=="string"&&!At(e)}function ld(e){return typeof e=="number"&&Bs(e)}function fn(e){if(!z(e))return!1;var n=fe(e);return n==C||n==B||n==Et||n==Ra}function ua(e){return typeof e=="number"&&e==L(e)}function pr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ze}function z(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Y(e){return e!=null&&typeof e=="object"}var aa=ys?Ae(ys):df;function fd(e,n){return e===n||fi(e,n,Ti(n))}function cd(e,n,t){return t=typeof t=="function"?t:a,fi(e,n,Ti(n),t)}function hd(e){return oa(e)&&e!=+e}function dd(e){if(Qf(e))throw new E(_e);return Vs(e)}function gd(e){return e===null}function pd(e){return e==null}function oa(e){return typeof e=="number"||Y(e)&&fe(e)==ge}function At(e){if(!Y(e)||fe(e)!=qe)return!1;var n=qt(e);if(n===null)return!0;var t=D.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Ut.call(t)==fl}var Ui=bs?Ae(bs):gf;function xd(e){return ua(e)&&e>=-Ze&&e<=Ze}var la=As?Ae(As):pf;function xr(e){return typeof e=="string"||!I(e)&&Y(e)&&fe(e)==ut}function Ce(e){return typeof e=="symbol"||Y(e)&&fe(e)==It}var et=Ss?Ae(Ss):xf;function md(e){return e===a}function vd(e){return Y(e)&&oe(e)==at}function _d(e){return Y(e)&&fe(e)==Oa}var wd=ur(hi),yd=ur(function(e,n){return e<=n});function fa(e){if(!e)return[];if(xe(e))return xr(e)?Ge(e):pe(e);if(ft&&e[ft])return Jo(e[ft]());var n=oe(e),t=n==q?Vr:n==$e?Pt:nt;return t(e)}function cn(e){if(!e)return e===0?e:0;if(e=He(e),e===nn||e===-nn){var n=e<0?-1:1;return n*br}return e===e?e:0}function L(e){var n=cn(e),t=n%1;return n===n?t?n-t:n:0}function ca(e){return e?Fn(L(e),0,de):0}function He(e){if(typeof e=="number")return e;if(Ce(e))return Dn;if(z(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=z(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Ls(e);var t=eo.test(e);return t||to.test(e)?Po(e.slice(2),t?2:8):Va.test(e)?Dn:+e}function ha(e){return Xe(e,me(e))}function bd(e){return e?Fn(L(e),-Ze,Ze):e===0?e:0}function U(e){return e==null?"":Se(e)}var Ad=Xn(function(e,n){if(yt(n)||xe(n)){Xe(n,ne(n),e);return}for(var t in n)D.call(n,t)&&pt(e,t,n[t])}),da=Xn(function(e,n){Xe(n,me(n),e)}),mr=Xn(function(e,n,t,r){Xe(n,me(n),e,r)}),Sd=Xn(function(e,n,t,r){Xe(n,ne(n),e,r)}),Cd=on(si);function Nd(e,n){var t=Qn(e);return n==null?t:ks(t,n)}var Td=O(function(e,n){e=H(e);var t=-1,r=n.length,i=r>2?n[2]:a;for(i&&ce(n[0],n[1],i)&&(r=1);++t<r;)for(var u=n[t],o=me(u),l=-1,h=o.length;++l<h;){var p=o[l],x=e[p];(x===a||Ke(x,zn[p])&&!D.call(e,p))&&(e[p]=u[p])}return e}),Ed=O(function(e){return e.push(a,Lu),be(ga,a,e)});function Id(e,n){return Ns(e,S(n,3),Qe)}function Ld(e,n){return Ns(e,S(n,3),ai)}function Rd(e,n){return e==null?e:ui(e,S(n,3),me)}function Fd(e,n){return e==null?e:Qs(e,S(n,3),me)}function Od(e,n){return e&&Qe(e,S(n,3))}function jd(e,n){return e&&ai(e,S(n,3))}function Pd(e){return e==null?[]:Jt(e,ne(e))}function Md(e){return e==null?[]:Jt(e,me(e))}function Di(e,n,t){var r=e==null?a:On(e,n);return r===a?t:r}function Wd(e,n){return e!=null&&Ou(e,n,uf)}function Bi(e,n){return e!=null&&Ou(e,n,af)}var Ud=Cu(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Dt.call(n)),e[n]=t},qi(ve)),Dd=Cu(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Dt.call(n)),D.call(e,n)?e[n].push(t):e[n]=[t]},S),Bd=O(mt);function ne(e){return xe(e)?$s(e):ci(e)}function me(e){return xe(e)?$s(e,!0):mf(e)}function Hd(e,n){var t={};return n=S(n,3),Qe(e,function(r,i,u){un(t,n(r,i,u),r)}),t}function qd(e,n){var t={};return n=S(n,3),Qe(e,function(r,i,u){un(t,i,n(r,i,u))}),t}var $d=Xn(function(e,n,t){Vt(e,n,t)}),ga=Xn(function(e,n,t,r){Vt(e,n,t,r)}),Gd=on(function(e,n){var t={};if(e==null)return t;var r=!1;n=K(n,function(u){return u=bn(u,e),r||(r=u.length>1),u}),Xe(e,Ci(e),t),r&&(t=Ue(t,Le|Cn|Ye,Uf));for(var i=n.length;i--;)mi(t,n[i]);return t});function kd(e,n){return pa(e,gr(S(n)))}var Kd=on(function(e,n){return e==null?{}:_f(e,n)});function pa(e,n){if(e==null)return{};var t=K(Ci(e),function(r){return[r]});return n=S(n),uu(e,t,function(r,i){return n(r,i[0])})}function zd(e,n,t){n=bn(n,e);var r=-1,i=n.length;for(i||(i=1,e=a);++r<i;){var u=e==null?a:e[Je(n[r])];u===a&&(r=i,u=t),e=fn(u)?u.call(e):u}return e}function Yd(e,n,t){return e==null?e:_t(e,n,t)}function Zd(e,n,t,r){return r=typeof r=="function"?r:a,e==null?e:_t(e,n,t,r)}var xa=Eu(ne),ma=Eu(me);function Qd(e,n,t){var r=I(e),i=r||Sn(e)||et(e);if(n=S(n,4),t==null){var u=e&&e.constructor;i?t=r?new u:[]:z(e)?t=fn(u)?Qn(qt(e)):{}:t={}}return(i?Pe:Qe)(e,function(o,l,h){return n(t,o,l,h)}),t}function Xd(e,n){return e==null?!0:mi(e,n)}function Jd(e,n,t){return e==null?e:cu(e,n,wi(t))}function Vd(e,n,t,r){return r=typeof r=="function"?r:a,e==null?e:cu(e,n,wi(t),r)}function nt(e){return e==null?[]:Jr(e,ne(e))}function eg(e){return e==null?[]:Jr(e,me(e))}function ng(e,n,t){return t===a&&(t=n,n=a),t!==a&&(t=He(t),t=t===t?t:0),n!==a&&(n=He(n),n=n===n?n:0),Fn(He(e),n,t)}function tg(e,n,t){return n=cn(n),t===a?(t=n,n=0):t=cn(t),e=He(e),of(e,n,t)}function rg(e,n,t){if(t&&typeof t!="boolean"&&ce(e,n,t)&&(n=t=a),t===a&&(typeof n=="boolean"?(t=n,n=a):typeof e=="boolean"&&(t=e,e=a)),e===a&&n===a?(e=0,n=1):(e=cn(e),n===a?(n=e,e=0):n=cn(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var i=Hs();return ae(e+i*(n-e+jo("1e-"+((i+"").length-1))),n)}return gi(e,n)}var ig=Jn(function(e,n,t){return n=n.toLowerCase(),e+(t?va(n):n)});function va(e){return Hi(U(e).toLowerCase())}function _a(e){return e=U(e),e&&e.replace(io,zo).replace(So,"")}function sg(e,n,t){e=U(e),n=Se(n);var r=e.length;t=t===a?r:Fn(L(t),0,r);var i=t;return t-=n.length,t>=0&&e.slice(t,i)==n}function ug(e){return e=U(e),e&&Ua.test(e)?e.replace(Qi,Yo):e}function ag(e){return e=U(e),e&&Ga.test(e)?e.replace(Mr,"\\$&"):e}var og=Jn(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),lg=Jn(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),fg=bu("toLowerCase");function cg(e,n,t){e=U(e),n=L(n);var r=n?kn(e):0;if(!n||r>=n)return e;var i=(n-r)/2;return sr(Kt(i),t)+e+sr(kt(i),t)}function hg(e,n,t){e=U(e),n=L(n);var r=n?kn(e):0;return n&&r<n?e+sr(n-r,t):e}function dg(e,n,t){e=U(e),n=L(n);var r=n?kn(e):0;return n&&r<n?sr(n-r,t)+e:e}function gg(e,n,t){return t||n==null?n=0:n&&(n=+n),wl(U(e).replace(Wr,""),n||0)}function pg(e,n,t){return(t?ce(e,n,t):n===a)?n=1:n=L(n),pi(U(e),n)}function xg(){var e=arguments,n=U(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var mg=Jn(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function vg(e,n,t){return t&&typeof t!="number"&&ce(e,n,t)&&(n=t=a),t=t===a?de:t>>>0,t?(e=U(e),e&&(typeof n=="string"||n!=null&&!Ui(n))&&(n=Se(n),!n&&Gn(e))?An(Ge(e),0,t):e.split(n,t)):[]}var _g=Jn(function(e,n,t){return e+(t?" ":"")+Hi(n)});function wg(e,n,t){return e=U(e),t=t==null?0:Fn(L(t),0,e.length),n=Se(n),e.slice(t,t+n.length)==n}function yg(e,n,t){var r=s.templateSettings;t&&ce(e,n,t)&&(n=a),e=U(e),n=mr({},n,r,Iu);var i=mr({},n.imports,r.imports,Iu),u=ne(i),o=Jr(i,u),l,h,p=0,x=n.interpolate||Lt,m="__p += '",w=ei((n.escape||Lt).source+"|"+x.source+"|"+(x===Xi?Ja:Lt).source+"|"+(n.evaluate||Lt).source+"|$","g"),A="//# sourceURL="+(D.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Io+"]")+`
`;e.replace(w,function(T,j,M,Ne,he,Te){return M||(M=Ne),m+=e.slice(p,Te).replace(so,Zo),j&&(l=!0,m+=`' +
__e(`+j+`) +
'`),he&&(h=!0,m+=`';
`+he+`;
__p += '`),M&&(m+=`' +
((__t = (`+M+`)) == null ? '' : __t) +
'`),p=Te+T.length,T}),m+=`';
`;var N=D.call(n,"variable")&&n.variable;if(!N)m=`with (obj) {
`+m+`
}
`;else if(Qa.test(N))throw new E(Ie);m=(h?m.replace(ja,""):m).replace(Pa,"$1").replace(Ma,"$1;"),m="function("+(N||"obj")+`) {
`+(N?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+m+`return __p
}`;var F=ya(function(){return W(u,A+"return "+m).apply(a,o)});if(F.source=m,Wi(F))throw F;return F}function bg(e){return U(e).toLowerCase()}function Ag(e){return U(e).toUpperCase()}function Sg(e,n,t){if(e=U(e),e&&(t||n===a))return Ls(e);if(!e||!(n=Se(n)))return e;var r=Ge(e),i=Ge(n),u=Rs(r,i),o=Fs(r,i)+1;return An(r,u,o).join("")}function Cg(e,n,t){if(e=U(e),e&&(t||n===a))return e.slice(0,js(e)+1);if(!e||!(n=Se(n)))return e;var r=Ge(e),i=Fs(r,Ge(n))+1;return An(r,0,i).join("")}function Ng(e,n,t){if(e=U(e),e&&(t||n===a))return e.replace(Wr,"");if(!e||!(n=Se(n)))return e;var r=Ge(e),i=Rs(r,Ge(n));return An(r,i).join("")}function Tg(e,n){var t=Nt,r=Tn;if(z(n)){var i="separator"in n?n.separator:i;t="length"in n?L(n.length):t,r="omission"in n?Se(n.omission):r}e=U(e);var u=e.length;if(Gn(e)){var o=Ge(e);u=o.length}if(t>=u)return e;var l=t-kn(r);if(l<1)return r;var h=o?An(o,0,l).join(""):e.slice(0,l);if(i===a)return h+r;if(o&&(l+=h.length-l),Ui(i)){if(e.slice(l).search(i)){var p,x=h;for(i.global||(i=ei(i.source,U(Ji.exec(i))+"g")),i.lastIndex=0;p=i.exec(x);)var m=p.index;h=h.slice(0,m===a?l:m)}}else if(e.indexOf(Se(i),l)!=l){var w=h.lastIndexOf(i);w>-1&&(h=h.slice(0,w))}return h+r}function Eg(e){return e=U(e),e&&Wa.test(e)?e.replace(Zi,tl):e}var Ig=Jn(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),Hi=bu("toUpperCase");function wa(e,n,t){return e=U(e),n=t?a:n,n===a?Xo(e)?sl(e):qo(e):e.match(n)||[]}var ya=O(function(e,n){try{return be(e,a,n)}catch(t){return Wi(t)?t:new E(t)}}),Lg=on(function(e,n){return Pe(n,function(t){t=Je(t),un(e,t,Pi(e[t],e))}),e});function Rg(e){var n=e==null?0:e.length,t=S();return e=n?K(e,function(r){if(typeof r[1]!="function")throw new Me(R);return[t(r[0]),r[1]]}):[],O(function(r){for(var i=-1;++i<n;){var u=e[i];if(be(u[0],this,r))return be(u[1],this,r)}})}function Fg(e){return tf(Ue(e,Le))}function qi(e){return function(){return e}}function Og(e,n){return e==null||e!==e?n:e}var jg=Su(),Pg=Su(!0);function ve(e){return e}function $i(e){return eu(typeof e=="function"?e:Ue(e,Le))}function Mg(e){return tu(Ue(e,Le))}function Wg(e,n){return ru(e,Ue(n,Le))}var Ug=O(function(e,n){return function(t){return mt(t,e,n)}}),Dg=O(function(e,n){return function(t){return mt(e,t,n)}});function Gi(e,n,t){var r=ne(n),i=Jt(n,r);t==null&&!(z(n)&&(i.length||!r.length))&&(t=n,n=e,e=this,i=Jt(n,ne(n)));var u=!(z(t)&&"chain"in t)||!!t.chain,o=fn(e);return Pe(i,function(l){var h=n[l];e[l]=h,o&&(e.prototype[l]=function(){var p=this.__chain__;if(u||p){var x=e(this.__wrapped__),m=x.__actions__=pe(this.__actions__);return m.push({func:h,args:arguments,thisArg:e}),x.__chain__=p,x}return h.apply(e,mn([this.value()],arguments))})}),e}function Bg(){return re._===this&&(re._=cl),this}function ki(){}function Hg(e){return e=L(e),O(function(n){return iu(n,e)})}var qg=bi(K),$g=bi(Cs),Gg=bi(zr);function ba(e){return Ii(e)?Yr(Je(e)):wf(e)}function kg(e){return function(n){return e==null?a:On(e,n)}}var Kg=Nu(),zg=Nu(!0);function Ki(){return[]}function zi(){return!1}function Yg(){return{}}function Zg(){return""}function Qg(){return!0}function Xg(e,n){if(e=L(e),e<1||e>Ze)return[];var t=de,r=ae(e,de);n=S(n),e-=de;for(var i=Xr(r,n);++t<e;)n(t);return i}function Jg(e){return I(e)?K(e,Je):Ce(e)?[e]:pe(qu(U(e)))}function Vg(e){var n=++ll;return U(e)+n}var ep=ir(function(e,n){return e+n},0),np=Ai("ceil"),tp=ir(function(e,n){return e/n},1),rp=Ai("floor");function ip(e){return e&&e.length?Xt(e,ve,oi):a}function sp(e,n){return e&&e.length?Xt(e,S(n,2),oi):a}function up(e){return Es(e,ve)}function ap(e,n){return Es(e,S(n,2))}function op(e){return e&&e.length?Xt(e,ve,hi):a}function lp(e,n){return e&&e.length?Xt(e,S(n,2),hi):a}var fp=ir(function(e,n){return e*n},1),cp=Ai("round"),hp=ir(function(e,n){return e-n},0);function dp(e){return e&&e.length?Qr(e,ve):0}function gp(e,n){return e&&e.length?Qr(e,S(n,2)):0}return s.after=Mh,s.ary=Vu,s.assign=Ad,s.assignIn=da,s.assignInWith=mr,s.assignWith=Sd,s.at=Cd,s.before=ea,s.bind=Pi,s.bindAll=Lg,s.bindKey=na,s.castArray=Yh,s.chain=Qu,s.chunk=rc,s.compact=ic,s.concat=sc,s.cond=Rg,s.conforms=Fg,s.constant=qi,s.countBy=dh,s.create=Nd,s.curry=ta,s.curryRight=ra,s.debounce=ia,s.defaults=Td,s.defaultsDeep=Ed,s.defer=Wh,s.delay=Uh,s.difference=uc,s.differenceBy=ac,s.differenceWith=oc,s.drop=lc,s.dropRight=fc,s.dropRightWhile=cc,s.dropWhile=hc,s.fill=dc,s.filter=ph,s.flatMap=vh,s.flatMapDeep=_h,s.flatMapDepth=wh,s.flatten=Ku,s.flattenDeep=gc,s.flattenDepth=pc,s.flip=Dh,s.flow=jg,s.flowRight=Pg,s.fromPairs=xc,s.functions=Pd,s.functionsIn=Md,s.groupBy=yh,s.initial=vc,s.intersection=_c,s.intersectionBy=wc,s.intersectionWith=yc,s.invert=Ud,s.invertBy=Dd,s.invokeMap=Ah,s.iteratee=$i,s.keyBy=Sh,s.keys=ne,s.keysIn=me,s.map=cr,s.mapKeys=Hd,s.mapValues=qd,s.matches=Mg,s.matchesProperty=Wg,s.memoize=dr,s.merge=$d,s.mergeWith=ga,s.method=Ug,s.methodOf=Dg,s.mixin=Gi,s.negate=gr,s.nthArg=Hg,s.omit=Gd,s.omitBy=kd,s.once=Bh,s.orderBy=Ch,s.over=qg,s.overArgs=Hh,s.overEvery=$g,s.overSome=Gg,s.partial=Mi,s.partialRight=sa,s.partition=Nh,s.pick=Kd,s.pickBy=pa,s.property=ba,s.propertyOf=kg,s.pull=Cc,s.pullAll=Yu,s.pullAllBy=Nc,s.pullAllWith=Tc,s.pullAt=Ec,s.range=Kg,s.rangeRight=zg,s.rearg=qh,s.reject=Ih,s.remove=Ic,s.rest=$h,s.reverse=Oi,s.sampleSize=Rh,s.set=Yd,s.setWith=Zd,s.shuffle=Fh,s.slice=Lc,s.sortBy=Ph,s.sortedUniq=Wc,s.sortedUniqBy=Uc,s.split=vg,s.spread=Gh,s.tail=Dc,s.take=Bc,s.takeRight=Hc,s.takeRightWhile=qc,s.takeWhile=$c,s.tap=ih,s.throttle=kh,s.thru=fr,s.toArray=fa,s.toPairs=xa,s.toPairsIn=ma,s.toPath=Jg,s.toPlainObject=ha,s.transform=Qd,s.unary=Kh,s.union=Gc,s.unionBy=kc,s.unionWith=Kc,s.uniq=zc,s.uniqBy=Yc,s.uniqWith=Zc,s.unset=Xd,s.unzip=ji,s.unzipWith=Zu,s.update=Jd,s.updateWith=Vd,s.values=nt,s.valuesIn=eg,s.without=Qc,s.words=wa,s.wrap=zh,s.xor=Xc,s.xorBy=Jc,s.xorWith=Vc,s.zip=eh,s.zipObject=nh,s.zipObjectDeep=th,s.zipWith=rh,s.entries=xa,s.entriesIn=ma,s.extend=da,s.extendWith=mr,Gi(s,s),s.add=ep,s.attempt=ya,s.camelCase=ig,s.capitalize=va,s.ceil=np,s.clamp=ng,s.clone=Zh,s.cloneDeep=Xh,s.cloneDeepWith=Jh,s.cloneWith=Qh,s.conformsTo=Vh,s.deburr=_a,s.defaultTo=Og,s.divide=tp,s.endsWith=sg,s.eq=Ke,s.escape=ug,s.escapeRegExp=ag,s.every=gh,s.find=xh,s.findIndex=Gu,s.findKey=Id,s.findLast=mh,s.findLastIndex=ku,s.findLastKey=Ld,s.floor=rp,s.forEach=Xu,s.forEachRight=Ju,s.forIn=Rd,s.forInRight=Fd,s.forOwn=Od,s.forOwnRight=jd,s.get=Di,s.gt=ed,s.gte=nd,s.has=Wd,s.hasIn=Bi,s.head=zu,s.identity=ve,s.includes=bh,s.indexOf=mc,s.inRange=tg,s.invoke=Bd,s.isArguments=Mn,s.isArray=I,s.isArrayBuffer=td,s.isArrayLike=xe,s.isArrayLikeObject=Z,s.isBoolean=rd,s.isBuffer=Sn,s.isDate=id,s.isElement=sd,s.isEmpty=ud,s.isEqual=ad,s.isEqualWith=od,s.isError=Wi,s.isFinite=ld,s.isFunction=fn,s.isInteger=ua,s.isLength=pr,s.isMap=aa,s.isMatch=fd,s.isMatchWith=cd,s.isNaN=hd,s.isNative=dd,s.isNil=pd,s.isNull=gd,s.isNumber=oa,s.isObject=z,s.isObjectLike=Y,s.isPlainObject=At,s.isRegExp=Ui,s.isSafeInteger=xd,s.isSet=la,s.isString=xr,s.isSymbol=Ce,s.isTypedArray=et,s.isUndefined=md,s.isWeakMap=vd,s.isWeakSet=_d,s.join=bc,s.kebabCase=og,s.last=Be,s.lastIndexOf=Ac,s.lowerCase=lg,s.lowerFirst=fg,s.lt=wd,s.lte=yd,s.max=ip,s.maxBy=sp,s.mean=up,s.meanBy=ap,s.min=op,s.minBy=lp,s.stubArray=Ki,s.stubFalse=zi,s.stubObject=Yg,s.stubString=Zg,s.stubTrue=Qg,s.multiply=fp,s.nth=Sc,s.noConflict=Bg,s.noop=ki,s.now=hr,s.pad=cg,s.padEnd=hg,s.padStart=dg,s.parseInt=gg,s.random=rg,s.reduce=Th,s.reduceRight=Eh,s.repeat=pg,s.replace=xg,s.result=zd,s.round=cp,s.runInContext=c,s.sample=Lh,s.size=Oh,s.snakeCase=mg,s.some=jh,s.sortedIndex=Rc,s.sortedIndexBy=Fc,s.sortedIndexOf=Oc,s.sortedLastIndex=jc,s.sortedLastIndexBy=Pc,s.sortedLastIndexOf=Mc,s.startCase=_g,s.startsWith=wg,s.subtract=hp,s.sum=dp,s.sumBy=gp,s.template=yg,s.times=Xg,s.toFinite=cn,s.toInteger=L,s.toLength=ca,s.toLower=bg,s.toNumber=He,s.toSafeInteger=bd,s.toString=U,s.toUpper=Ag,s.trim=Sg,s.trimEnd=Cg,s.trimStart=Ng,s.truncate=Tg,s.unescape=Eg,s.uniqueId=Vg,s.upperCase=Ig,s.upperFirst=Hi,s.each=Xu,s.eachRight=Ju,s.first=zu,Gi(s,(function(){var e={};return Qe(s,function(n,t){D.call(s.prototype,t)||(e[t]=n)}),e})(),{chain:!1}),s.VERSION=X,Pe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),Pe(["drop","take"],function(e,n){P.prototype[e]=function(t){t=t===a?1:V(L(t),0);var r=this.__filtered__&&!n?new P(this):this.clone();return r.__filtered__?r.__takeCount__=ae(t,r.__takeCount__):r.__views__.push({size:ae(t,de),type:e+(r.__dir__<0?"Right":"")}),r},P.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Pe(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==Tt||t==Un;P.prototype[e]=function(i){var u=this.clone();return u.__iteratees__.push({iteratee:S(i,3),type:t}),u.__filtered__=u.__filtered__||r,u}}),Pe(["head","last"],function(e,n){var t="take"+(n?"Right":"");P.prototype[e]=function(){return this[t](1).value()[0]}}),Pe(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");P.prototype[e]=function(){return this.__filtered__?new P(this):this[t](1)}}),P.prototype.compact=function(){return this.filter(ve)},P.prototype.find=function(e){return this.filter(e).head()},P.prototype.findLast=function(e){return this.reverse().find(e)},P.prototype.invokeMap=O(function(e,n){return typeof e=="function"?new P(this):this.map(function(t){return mt(t,e,n)})}),P.prototype.reject=function(e){return this.filter(gr(S(e)))},P.prototype.slice=function(e,n){e=L(e);var t=this;return t.__filtered__&&(e>0||n<0)?new P(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==a&&(n=L(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},P.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},P.prototype.toArray=function(){return this.take(de)},Qe(P.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=s[r?"take"+(n=="last"?"Right":""):n],u=r||/^find/.test(n);i&&(s.prototype[n]=function(){var o=this.__wrapped__,l=r?[1]:arguments,h=o instanceof P,p=l[0],x=h||I(o),m=function(j){var M=i.apply(s,mn([j],l));return r&&w?M[0]:M};x&&t&&typeof p=="function"&&p.length!=1&&(h=x=!1);var w=this.__chain__,A=!!this.__actions__.length,N=u&&!w,F=h&&!A;if(!u&&x){o=F?o:new P(this);var T=e.apply(o,l);return T.__actions__.push({func:fr,args:[m],thisArg:a}),new We(T,w)}return N&&F?e.apply(this,l):(T=this.thru(m),N?r?T.value()[0]:T.value():T)})}),Pe(["pop","push","shift","sort","splice","unshift"],function(e){var n=Mt[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var u=this.value();return n.apply(I(u)?u:[],i)}return this[t](function(o){return n.apply(I(o)?o:[],i)})}}),Qe(P.prototype,function(e,n){var t=s[n];if(t){var r=t.name+"";D.call(Zn,r)||(Zn[r]=[]),Zn[r].push({name:n,func:t})}}),Zn[rr(a,dn).name]=[{name:"wrapper",func:a}],P.prototype.clone=Tl,P.prototype.reverse=El,P.prototype.value=Il,s.prototype.at=sh,s.prototype.chain=uh,s.prototype.commit=ah,s.prototype.next=oh,s.prototype.plant=fh,s.prototype.reverse=ch,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=hh,s.prototype.first=s.prototype.head,ft&&(s.prototype[ft]=lh),s}),Kn=ul();En?((En.exports=Kn)._=Kn,$r._=Kn):re._=Kn}).call(Rp)})(Ct,Ct.exports)),Ct.exports}var Op=Fp();const jp=({faq:_,index:b,isOpen:a,onToggle:X,onHelpfulClick:k,helpfulCount:_e,hasVoted:R})=>f.jsxs("div",{className:"p-4 md:p-5 hover:bg-gray-50 transition-colors duration-150",children:[f.jsxs("button",{onClick:X,className:"flex justify-between items-center w-full text-left","aria-expanded":a,"aria-controls":`faq-content-${b}`,children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(yp,{className:"text-blue-500 flex-shrink-0 text-xl"}),f.jsx("p",{className:"font-medium text-gray-700 text-left",children:_.question})]}),f.jsx("span",{className:"text-xs bg-blue-50 text-blue-600 px-3 py-1.5 rounded-full inline-block md:ml-2 mt-1 md:mt-0",children:_.category||_.tags?.[0]||"General"})]}),f.jsx("span",{className:"text-gray-400 ml-4",children:a?f.jsx(Cp,{}):f.jsx(Np,{})})]}),a&&f.jsxs("div",{id:`faq-content-${b}`,className:"mt-4 pl-10 md:pl-11",children:[f.jsx("p",{className:"text-gray-600 mb-3",children:_.answer}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[f.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[f.jsx(Ca,{className:"text-lg text-red-400"}),f.jsxs("span",{children:[_e," people found this helpful"]})]}),f.jsxs("button",{onClick:k,disabled:R,className:`px-4 py-2 text-sm rounded-full flex items-center gap-2 transition-colors ${R?"bg-green-100 text-green-600 cursor-default":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[f.jsx(Ca,{className:"text-lg"}),R?"Thank you!":"Was this helpful?"]})]})]})]}),Pp=({supportItem:_,index:b})=>f.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 md:p-6 text-center flex flex-col items-center shadow-sm hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 cursor-pointer hover-lift",onClick:_.action,children:[f.jsx("div",{className:"text-3xl text-blue-600 bg-blue-50 p-4 rounded-full mb-4",children:_.icon}),f.jsx("h3",{className:"font-semibold text-gray-800 text-lg mb-2",children:_.title}),f.jsx("p",{className:"text-sm text-gray-500 mb-3",children:_.desc}),f.jsxs("div",{className:"mb-4 space-y-1",children:[f.jsxs("p",{className:"text-xs text-gray-400 flex items-center justify-center gap-1",children:[f.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full"}),_.time]}),f.jsxs("p",{className:"text-xs text-gray-400",children:["Response: ",_.response]})]}),f.jsx("button",{className:"bg-blue-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200 w-full",children:_.btn})]},b),Mp=({resource:_})=>{const b=_.icon;return f.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 flex flex-col h-full shadow-sm hover:shadow-lg transition-all duration-200 hover-lift",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("div",{className:"flex items-center justify-center bg-green-50 p-3 rounded-full",children:f.jsx(b,{className:"text-green-600 text-2xl"})}),f.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full capitalize",children:_.type})]}),f.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:_.title}),f.jsx("p",{className:"text-sm text-gray-500 mb-4 flex-grow",children:_.desc}),f.jsxs("a",{href:_.url,className:"text-blue-600 hover:text-blue-700 text-sm font-medium rounded-lg border border-blue-600 hover:border-blue-700 px-4 py-2.5 flex items-center justify-center gap-2 transition-colors duration-200 hover:bg-blue-50",children:[f.jsx(Ea,{})," View Resource"]})]})},Wp=({ticket:_,onClose:b,getStatusColor:a,getPriorityColor:X,formatStatus:k,formatDate:_e})=>f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:_.title}),f.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Ticket ID: #",_._id?.slice(-6)]})]}),f.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100",children:f.jsx(La,{className:"text-xl"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx(Sa,{className:"text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),f.jsx("p",{className:"font-medium",children:_e(_.createdAt)})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx(Sa,{className:"text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),f.jsx("p",{className:"font-medium",children:_e(_.updatedAt)})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx(bp,{className:"text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),f.jsx("p",{className:"font-medium capitalize",children:_.category})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx(Ap,{className:"text-gray-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),f.jsx("span",{className:`text-xs font-medium px-3 py-1.5 rounded-full ${a(_.status)}`,children:k(_.status)})]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Description"}),f.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:f.jsx("p",{className:"text-gray-600",children:_.description})})]}),_.attachments&&_.attachments.length>0&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Attachments"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:_.attachments.map((R,Ie)=>f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg",children:[f.jsx(Sp,{}),f.jsxs("span",{className:"text-sm",children:["Attachment ",Ie+1]})]},Ie))})]}),_.messages&&_.messages.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Conversation"}),f.jsx("div",{className:"space-y-4",children:_.messages.map(R=>f.jsxs("div",{className:`p-4 rounded-lg ${R.sender==="user"?"bg-blue-50 ml-4":"bg-gray-50 mr-4"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("span",{className:"font-medium text-sm",children:R.sender==="user"?"You":"Support Agent"}),f.jsx("span",{className:"text-xs text-gray-500",children:_e(R.timestamp)})]}),f.jsx("p",{className:"text-gray-600",children:R.message})]},R.id))})]}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 flex justify-between items-center",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`text-xs font-medium px-3 py-1.5 rounded-full ${a(_.status)}`,children:k(_.status)}),f.jsxs("span",{className:`text-xs font-medium px-3 py-1.5 rounded-full ${X(_.priority)}`,children:["Priority: ",_.priority]})]}),f.jsx("button",{onClick:b,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})]})]})})}),Up=({onClose:_})=>{const[b,a]=te.useState([{text:"Hello! How can I help you today?",sender:"agent",time:"10:00 AM"}]),[X,k]=te.useState(""),_e=()=>{if(!X.trim())return;const R={text:X,sender:"user",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a([...b,R]),k(""),setTimeout(()=>{a(Ie=>[...Ie,{text:"Thanks for your message. An agent will be with you shortly.",sender:"agent",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},1e3)};return f.jsx("div",{className:"fixed bottom-4 right-4 z-50 w-96",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",children:[f.jsxs("div",{className:"bg-blue-600 text-white p-4 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ia,{className:"text-xl"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold",children:"Live Chat Support"}),f.jsx("p",{className:"text-xs opacity-90",children:"We're online • Response time: 2 min"})]})]}),f.jsx("button",{onClick:_,className:"text-white hover:text-gray-200 p-1",children:f.jsx(La,{className:"text-xl"})})]}),f.jsx("div",{className:"h-96 overflow-y-auto p-4 space-y-4 bg-gray-50",children:b.map((R,Ie)=>f.jsx("div",{className:`flex ${R.sender==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-xs rounded-lg p-3 ${R.sender==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white border border-gray-200 rounded-bl-none"}`,children:[f.jsx("p",{children:R.text}),f.jsx("p",{className:`text-xs mt-1 ${R.sender==="user"?"text-blue-200":"text-gray-400"}`,children:R.time})]})},Ie))}),f.jsxs("div",{className:"p-4 border-t border-gray-200",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:X,onChange:R=>k(R.target.value),onKeyPress:R=>R.key==="Enter"&&_e(),placeholder:"Type your message...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{onClick:_e,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:f.jsx(Ta,{})})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Typically replies within 2 minutes"})]})]})})};function Xp(){const[_,b]=te.useState(null),[a,X]=te.useState(""),[k,_e]=te.useState({subject:"",category:"",message:""}),[R,Ie]=te.useState([]),[Ve,tt]=te.useState([]),[Wn,Le]=te.useState({}),[Cn,Ye]=te.useState({}),[ee,Re]=te.useState({faqs:!1,tickets:!1,submitting:!1}),[se,dn]=te.useState({page:1,limit:10,total:0,hasMore:!1}),[rt,we]=te.useState(null),[ue,ye]=te.useState({}),[Nn,Fe]=te.useState(!1),en=te.useRef(null);te.useEffect(()=>{Tn(),_r(),it()},[]);const it=()=>{const v=localStorage.getItem("faq_votes");v&&Ye(JSON.parse(v))},Nt=v=>{localStorage.setItem("faq_votes",JSON.stringify(v))},Tn=async(v=!1)=>{Re(C=>({...C,faqs:!0}));try{const C=v?se.page+1:1,B=await St.getFAQs({search:a,page:C,limit:se.limit});if(B.success){tt(v?Oe=>[...Oe,...B.data]:B.data);const q={};(v?[...Ve,...B.data]:B.data).forEach((Oe,qe)=>{q[qe]=Oe.helpfulCount||0}),Le(q),dn(Oe=>({...Oe,page:C,total:B.total||0,hasMore:B.data.length===se.limit}))}}catch(C){console.error("Error fetching FAQs:",C),Ee.error("Failed to load FAQs"),tt(wr())}finally{Re(C=>({...C,faqs:!1}))}},_r=async()=>{Re(v=>({...v,tickets:!0}));try{const v=await St.getUserTickets({page:1,limit:10,sort:"-createdAt"});v.success&&Ie(v.data)}catch(v){console.error("Error fetching tickets:",v),Ee.error("Failed to load tickets"),Ie(Tt())}finally{Re(v=>({...v,tickets:!1}))}},wr=()=>[{_id:"1",question:"How do I reset my password?",answer:"To reset your password, go to the login page and click 'Forgot Password'. Enter your email address and follow the instructions sent to your inbox. The reset link will expire in 24 hours for security reasons.",category:"account",tags:["Account"],helpfulCount:38,notHelpfulCount:2,views:150,isPublished:!0},{_id:"2",question:"How do I download my certificates?",answer:"Navigate to your profile dashboard, click on 'Certificates' section, select the certificate you want to download, and click the download button. Certificates are available in PDF format.",category:"certificates",tags:["Certificates"],helpfulCount:42,notHelpfulCount:1,views:200,isPublished:!0},{_id:"3",question:"Can I access courses offline?",answer:"Yes! Our mobile app allows you to download courses for offline viewing. Simply go to the course content page in the app and tap the download icon next to each lesson.",category:"courses",tags:["Courses"],helpfulCount:25,notHelpfulCount:0,views:120,isPublished:!0},{_id:"4",question:"How do I track my learning progress?",answer:"Your learning dashboard shows progress bars for each course, completed modules, quiz scores, and time spent learning. You can also view detailed analytics in the 'Progress' section.",category:"progress",tags:["Progress"],helpfulCount:31,notHelpfulCount:1,views:180,isPublished:!0},{_id:"5",question:"What if I'm having technical issues?",answer:"First, try clearing your browser cache and cookies. If issues persist, check our status page for system updates. For persistent problems, submit a support ticket with details about your device, browser, and error messages.",category:"technical",tags:["Technical"],helpfulCount:19,notHelpfulCount:3,views:250,isPublished:!0},{_id:"6",question:"How do I change my email address?",answer:"Go to Account Settings > Personal Information. Click 'Edit' next to your email, enter the new email, and confirm via the verification link sent to both old and new email addresses.",category:"account",tags:["Account"],helpfulCount:27,notHelpfulCount:0,views:100,isPublished:!0}],Tt=()=>[{_id:"1",title:"Course video not loading",description:"Video playback was stuck at 50% loading. The issue was resolved by clearing browser cache.",category:"technical",priority:"medium",status:"resolved",createdAt:"2024-12-18T00:00:00.000Z",updatedAt:"2024-12-19T00:00:00.000Z"},{_id:"2",title:"Certificate download issue",description:"Unable to download certificate in PDF format. Our team is working on the export functionality.",category:"certificates",priority:"low",status:"in-progress",createdAt:"2024-12-20T00:00:00.000Z",updatedAt:"2024-12-20T00:00:00.000Z"}],yr=te.useCallback(Op.debounce(async v=>{await Tn()},500),[]),Un=te.useMemo(()=>a?Ve.filter(v=>v.question.toLowerCase().includes(a.toLowerCase())||v.tags&&v.tags.some(C=>C.toLowerCase().includes(a.toLowerCase()))||v.answer.toLowerCase().includes(a.toLowerCase())):Ve,[Ve,a]),nn=[{title:"Live Chat",desc:"Get instant help from our support team",icon:f.jsx(Ia,{}),time:"24/7",response:"< 5 minutes",btn:"Start Chat",action:async()=>{try{const v=await St.startChatSession("general");v.success&&(Ee.success(v.message),Fe(!0))}catch{Ee.error("Failed to start chat session")}}},{title:"Email Support",desc:"Send us a detailed message",icon:f.jsx(_p,{}),time:"24/7",response:"< 24 hours",btn:"Send Email",action:()=>window.location.href="mailto:support@example.com?subject=Support Request"},{title:"Phone Support",desc:"Speak directly with our team",icon:f.jsx(wp,{}),time:"Mon-Fri: 9AM-6PM",response:"Immediate",btn:"Call Now",action:()=>window.location.href="tel:+15551234567"}],Ze=[{title:"Getting Started Guide",desc:"Learn the basics of using the platform",icon:pp,url:"/guides/getting-started",type:"guide"},{title:"Video Tutorials",desc:"Watch step-by-step video tutorials",icon:xp,url:"/tutorials",type:"video"},{title:"Platform Updates",desc:"Latest features and improvements",icon:mp,url:"/updates",type:"updates"},{title:"Download Mobile App",desc:"Learn on the go with our mobile app",icon:vp,url:"/download/app",type:"app"}],br=["Select a category","Technical","Courses","Certificates","Billing","Account","Other"],Dn=()=>{const v={};return k.subject.trim()?k.subject.length<5&&(v.subject="Subject must be at least 5 characters"):v.subject="Subject is required",(k.category===""||k.category==="Select a category")&&(v.category="Please select a category"),k.message.trim()?k.message.length<20&&(v.message="Please provide more details (minimum 20 characters)"):v.message="Message is required",v},de=v=>{const{name:C,value:B}=v.target;_e(q=>({...q,[C]:B})),ue[C]&&ye(q=>({...q,[C]:""}))},Ar=async v=>{v.preventDefault(),Re(B=>({...B,submitting:!0}));const C=Dn();if(Object.keys(C).length>0){ye(C),Object.values(C).forEach(B=>Ee.error(B)),Re(B=>({...B,submitting:!1}));return}try{const B={title:k.subject,description:k.message,category:k.category,priority:"medium"},q=await St.createTicket(B);q.success&&(Ee.success("Support Ticket submitted successfully! ✅"),Ie(ge=>[q.data,...ge]),_e({subject:"",category:"",message:""}),ye({}),en.current&&en.current.reset())}catch(B){console.error("Error creating ticket:",B),Ee.error(B.response?.data?.message||"Failed to submit ticket")}finally{Re(B=>({...B,submitting:!1}))}},Sr=async(v,C)=>{const B=localStorage.getItem(`vote_${C}`);if(B&&Date.now()-parseInt(B)<1440*60*1e3){Ee.info("You can only vote once every 24 hours");return}if(Cn[v]){Ee.info("You've already voted on this FAQ!");return}try{const q=await St.voteFAQ(C,!0);if(q.success){Le(Oe=>({...Oe,[v]:q.data.helpfulCount}));const ge={...Cn,[v]:!0};Ye(ge),Nt(ge),localStorage.setItem(`vote_${C}`,Date.now().toString()),Ee.success("Thank you for your feedback! 👍")}}catch(q){console.error("Error voting on FAQ:",q),Le(Oe=>({...Oe,[v]:(Oe[v]||0)+1}));const ge={...Cn,[v]:!0};Ye(ge),Nt(ge),Ee.success("Thank you for your feedback! 👍")}},Cr=v=>{const C=v.target.value;X(C),yr(C)},gn=async v=>{if(v.preventDefault(),!a.trim()){Ee.info("Please enter a search term");return}try{await Tn(),Ee.info(`Searching for: ${a}`)}catch(C){console.error("Search error:",C)}},Bn=v=>{switch(v){case"high":return"bg-red-100 text-red-600";case"medium":return"bg-yellow-100 text-yellow-600";case"low":return"bg-green-100 text-green-600";default:return"bg-gray-100 text-gray-600"}},Et=v=>{switch(v){case"resolved":return"bg-green-100 text-green-600";case"in-progress":return"bg-blue-100 text-blue-600";case"open":return"bg-yellow-100 text-yellow-600";case"pending":return"bg-orange-100 text-orange-600";case"closed":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},pn=v=>v.replace("-"," ").charAt(0).toUpperCase()+v.replace("-"," ").slice(1),tn=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",Nr=()=>{Tn(!0)};return f.jsx(f.Fragment,{children:f.jsxs("section",{className:"pt-10 bg-gray-50 min-h-screen",children:[f.jsx(Ip,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),f.jsx(Ep,{}),f.jsxs("div",{className:"bg-gray-50 p-4 md:p-6 lg:p-8 xl:p-10",children:[f.jsxs("div",{className:"mb-6 md:mb-8 text-center",children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Help & Support"}),f.jsx("p",{className:"text-gray-500 mt-2 max-w-2xl mx-auto",children:"We're here to help! Find answers to common questions or get in touch with our support team."})]}),f.jsx("div",{className:"mb-8 md:mb-10",children:f.jsx("form",{onSubmit:gn,className:"flex justify-center",children:f.jsxs("div",{className:"relative w-full max-w-2xl",children:[f.jsx("input",{type:"text",placeholder:"Search for help...",className:"w-full border rounded-full border-gray-300 py-3 px-6 pl-12 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",value:a,onChange:Cr}),f.jsx("button",{type:"submit",className:"absolute left-4 top-1/2 transform -translate-y-1/2",disabled:ee.faqs,children:ee.faqs?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-400"}):f.jsx(Tp,{className:"text-xl text-gray-400 hover:text-gray-600"})})]})})}),f.jsxs("div",{className:"mb-10 md:mb-12",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Get Support"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:nn.map((v,C)=>f.jsx(Pp,{supportItem:v,index:C},C))})]}),f.jsxs("div",{className:"mb-10 md:mb-12",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Frequently Asked Questions"}),f.jsxs("span",{className:"text-sm text-gray-500",children:[Un.length," ",Un.length===1?"question":"questions"]})]}),ee.faqs&&!Ve.length?f.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"text-gray-500 mt-4",children:"Loading FAQs..."})]}):f.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm divide-y divide-gray-200",children:Un.length>0?f.jsxs(f.Fragment,{children:[Un.map((v,C)=>f.jsx(jp,{faq:v,index:C,isOpen:_===C,onToggle:()=>b(_===C?null:C),onHelpfulClick:()=>Sr(C,v._id),helpfulCount:Wn[C]||v.helpfulCount,hasVoted:Cn[C]},v._id)),se.hasMore&&f.jsx("div",{className:"p-4 text-center",children:f.jsx("button",{onClick:Nr,disabled:ee.faqs,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:ee.faqs?"Loading...":"Load More FAQs"})})]}):f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("p",{className:"text-gray-500",children:"No FAQs found matching your search."}),f.jsx("button",{onClick:()=>{X(""),Tn()},className:"text-blue-600 hover:text-blue-700 mt-2 hover:underline transition-colors",children:"Clear search"})]})})]}),f.jsxs("div",{className:"mb-10 md:mb-12",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Help Resources"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:Ze.map((v,C)=>f.jsx(Mp,{resource:v},C))})]}),f.jsxs("div",{className:"mb-10 md:mb-12 bg-white border border-gray-200 rounded-xl p-5 md:p-6 shadow-sm",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Create Support Ticket"}),f.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"Can't find what you're looking for? Send us a detailed message and we'll get back to you."}),f.jsxs("form",{ref:en,onSubmit:Ar,className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),f.jsx("input",{type:"text",name:"subject",placeholder:"Briefly describe your issue",required:!0,className:`w-full border ${ue.subject?"border-red-300":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,value:k.subject,onChange:de,disabled:ee.submitting}),ue.subject&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.subject})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),f.jsx("select",{name:"category",required:!0,className:`w-full border ${ue.category?"border-red-300":"border-gray-300"} rounded-lg p-3 text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,value:k.category,onChange:de,disabled:ee.submitting,children:br.map((v,C)=>f.jsx("option",{value:v.toLowerCase(),children:v},C))}),ue.category&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.category})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),f.jsx("textarea",{name:"message",placeholder:"Please provide detailed information about your issue",rows:5,required:!0,className:`w-full border ${ue.message?"border-red-300":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none transition-all duration-200`,value:k.message,onChange:de,disabled:ee.submitting}),ue.message&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.message})]}),f.jsx("button",{type:"submit",disabled:ee.submitting,className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200 w-full md:w-auto disabled:opacity-50 disabled:cursor-not-allowed",children:ee.submitting?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Submitting..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Ta,{})," Submit Ticket"]})})]})]}),f.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 md:p-6 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"My Support Tickets"}),f.jsxs("span",{className:"text-sm text-gray-500",children:[R.length," ",R.length===1?"ticket":"tickets"]})]}),ee.tickets?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),f.jsx("p",{className:"text-gray-500 mt-4",children:"Loading tickets..."})]}):R.length>0?f.jsx("div",{className:"space-y-4",children:R.map(v=>f.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors duration-150 cursor-pointer hover-lift",onClick:()=>we(v),children:f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("p",{className:"font-medium text-gray-800",children:v.title}),f.jsxs("span",{className:"text-xs text-gray-500",children:["#",v._id?.slice(-6)]})]}),f.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[v.category?.charAt(0).toUpperCase()+v.category?.slice(1)||"Unknown"," • Created: ",tn(v.createdAt)," • Updated: ",tn(v.updatedAt)]}),f.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:v.description})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[f.jsx("div",{className:"flex gap-2",children:f.jsx("span",{className:`text-xs font-medium px-3 py-1.5 rounded-full ${Et(v.status)}`,children:pn(v.status)})}),f.jsxs("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-2 hover:underline transition-colors",onClick:C=>{C.stopPropagation(),we(v)},children:[f.jsx(Ea,{})," View Details"]})]})]})},v._id))}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-gray-500",children:"You don't have any support tickets yet."}),f.jsx("button",{onClick:()=>{const v=document.querySelector("form");v&&v.scrollIntoView({behavior:"smooth"})},className:"text-blue-600 hover:text-blue-700 mt-2 hover:underline transition-colors",children:"Create your first ticket"})]})]})]}),rt&&f.jsx(Wp,{ticket:rt,onClose:()=>we(null),getStatusColor:Et,getPriorityColor:Bn,formatStatus:pn,formatDate:tn}),Nn&&f.jsx(Up,{onClose:()=>Fe(!1)})]})})}export{Xp as default};
