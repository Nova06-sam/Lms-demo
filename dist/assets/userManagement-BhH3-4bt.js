import{u as J,r as n,j as e}from"./index-BAzVzJec.js";import{E as B,F as O,B as q,G as V,H as G,I as W,f as H,g as X,J as K,d as E}from"./index-D9b6Bac8.js";/* empty css                       */import{f as w,g as Q}from"./index-DaWSInqW.js";import{T as Y,a as Z}from"./index-D7auQ9h9.js";import{c as _}from"./index-C8oNkhjH.js";import{c as ee}from"./index-oVQI5ptU.js";import{C as F}from"./code-CMvLa5Vp.js";import"./iconBase-CAFTq8Rg.js";function ce(){const T=J(),[d,C]=n.useState(""),[c,U]=n.useState("all"),[z,u]=n.useState(!1),[$,h]=n.useState(!1),[j,g]=n.useState(null),[i,f]=n.useState({name:"",email:"",role:"student",status:"active",join:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),login:"Never",activity:"0 courses",avatar:""}),[r,x]=n.useState(null),[a,m]=n.useState({}),I=[{title:"Total Users",value:5,icon:w,color:"blue-600"},{title:"Students",value:3,icon:w,color:"green-600"},{title:"Trainers",value:2,icon:w,color:"blue-800"},{title:"Admins",value:2,icon:_,color:"violet-700"},{title:"Active",value:3,icon:O,color:"green-600"},{title:"Pending",value:1,icon:Q,color:"amber-600"}],[v,y]=n.useState([{id:1,name:"Alice Johnson",email:"alice@example.com",role:"student",status:"active",join:"Oct 15, 2025",login:"2 hours ago",activity:"5 courses",avatar:"AJ",image:F},{id:2,name:"Bob Smith",email:"bob@example.com",role:"trainer",status:"active",join:"Sep 10, 2025",login:"1 day ago",activity:"3 courses",avatar:"BS",image:F},{id:3,name:"Carol Davis",email:"carol@example.com",role:"student",status:"pending",join:"Nov 2, 2025",login:"Never",activity:"0 courses",avatar:"CD",image:null},{id:4,name:"David Wilson",email:"david@example.com",role:"trainer",status:"active",join:"Aug 20, 2025",login:"3 hours ago",activity:"7 courses",avatar:"DW",image:null},{id:5,name:"Eva Martinez",email:"eva@example.com",role:"student",status:"inactive",join:"Jul 5, 2025",login:"30 days ago",activity:"2 courses",avatar:"EM",image:null}]),S=(s,l=!1)=>{const t={};return s.name.trim()?s.name.trim().length<2&&(t.name="Name must be at least 2 characters"):t.name="Name is required",s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(t.email="Please enter a valid email address"):t.email="Email is required",v.some(A=>A.email.toLowerCase()===s.email.toLowerCase()&&(!l||A.id!==s.id))&&(t.email="Email already exists"),s.role||(t.role="Role is required"),m(t),Object.keys(t).length===0},b=(s,l)=>{if(f(t=>({...t,[s]:l})),a[s]&&m(t=>({...t,[s]:""})),s==="name"&&l.trim().length>=2){const t=l.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2);f(o=>({...o,avatar:t}))}},p=(s,l)=>{if(x(t=>({...t,[s]:l})),a[s]&&m(t=>({...t,[s]:""})),s==="name"&&l.trim().length>=2){const t=l.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2);x(o=>({...o,avatar:t}))}},D=()=>{if(S(i)){const s={...i,id:Date.now(),avatar:i.avatar||"US"};y(l=>[...l,s]),N(),u(!1)}},L=s=>{x({...s}),h(!0),g(null)},P=()=>{S(r,!0)&&(y(s=>s.map(l=>l.id===r.id?r:l)),h(!1),x(null),m({}))},M=s=>{window.confirm("Are you sure you want to delete this user?")&&(y(l=>l.filter(t=>t.id!==s)),g(null))},N=()=>{f({name:"",email:"",role:"student",status:"active",join:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),login:"Never",activity:"0 courses",avatar:""}),m({})},R=s=>{g(j===s?null:s)},k=n.useMemo(()=>v.filter(s=>{const l=s.name.toLowerCase().includes(d.toLowerCase())||s.email.toLowerCase().includes(d.toLowerCase()),t=c==="all"?!0:s.role===c;return l&&t}),[d,c,v]);return e.jsxs(e.Fragment,{children:[e.jsxs("section",{children:[e.jsx("header",{children:e.jsxs("nav",{className:"flex justify-between items-center px-6 py-5 shadow-md fixed bg-white w-full z-100",children:[e.jsx("div",{className:"head-btn",children:e.jsxs("button",{onClick:()=>T(-1),className:"hover:bg-green-500 hover:text-white",children:[e.jsx(B,{})," back to dashboard"]})}),e.jsxs("div",{className:"flex head-btn gap-3 items-center",children:[e.jsxs("button",{className:"hover:bg-green-500 hover:text-white",children:[e.jsx(Y,{className:"font-bold icons text-lg"})," bulk import"]}),e.jsxs("button",{className:"hover:bg-green-500 hover:text-white",children:[e.jsx(Z,{className:"font-bold icons text-lg"})," export CSV"]}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-400 text-white hover:bg-blue-800 hover:text-white",children:[e.jsx(ee,{className:"font-bold icons text-lg"})," add user"]})]})]})}),e.jsxs("div",{className:"p-7 md:p-10 ",children:[e.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"User Management"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-5 mb-8",children:I.map((s,l)=>{const t=s.icon;return e.jsxs("div",{className:" shadow-md hover:scale-105 cursor-pointer rounded-xl p-5 flex justify-center flex-col items-center gap-3",children:[e.jsx(t,{className:`text-${s.color} text-3xl`}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.value}),e.jsx("p",{className:"text-gray-500 text-sm",children:s.title})]},l)})}),e.jsxs("div",{className:"flex flex-col w-full md:flex-row bg-white rounded-2xl shadow-md p-4 justify-between items-center gap-4 mb-6",children:[e.jsxs("div",{className:"relative search w-full ",children:[e.jsx(q,{className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",className:" bg-white border-2 border-blue-600 focus:outline-blue-900 rounded-2xl pl-10 pr-4 py-2 ",value:d,onChange:s=>C(s.target.value)})]}),e.jsxs("button",{className:"flex items-center gap-2 border px-4 py-2 bg-white shadow-md rounded-lg hover:bg-green-600 hover:text-white font-bold text-gray-600",children:[e.jsx(V,{})," Filters"]})]}),e.jsx("div",{className:"flex btns-cover text-gray-600 bg-gray-100 py-3 mb-3 rounded-4xl w-full justify-around",children:[{id:"all",label:"All Users"},{id:"student",label:"Students"},{id:"trainer",label:"Trainers"},{id:"admin",label:"Admins"}].map(s=>e.jsx("button",{style:{width:"20%"},onClick:()=>U(s.id),className:` px-3 py-2 rounded-3xl font-medium ${c===s.id?"bg-white shadow-md":"text-gray-500"}`,children:s.label},s.id))}),e.jsx("div",{className:"bg-white userTable rounded-xl  shadow-md overflow-auto  ",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 text-gray-600 text-sm text-center",children:[e.jsx("th",{className:"p-4",children:"User"}),e.jsx("th",{className:"p-4",children:"Role"}),e.jsx("th",{className:"p-4",children:"Status"}),e.jsx("th",{className:"p-4",children:"Join Date"}),e.jsx("th",{className:"p-4",children:"Last Login"}),e.jsx("th",{className:"p-4",children:"Activity"}),e.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{children:k.length>0?k.map((s,l)=>e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4 flex items-center justify-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center font-semibold text-gray-700 overflow-hidden",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full rounded-full object-cover"}):s.avatar}),e.jsxs("div",{className:"t-name",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email})]})]}),e.jsx("td",{className:"p-4 capitalize",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium
                                                        ${s.role==="student"?"bg-green-100 text-green-700":s.role==="trainer"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:s.role})}),e.jsx("td",{className:"p-4 capitalize",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium
                                                        ${s.status==="active"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s.status})}),e.jsx("td",{className:"p-4",children:s.join}),e.jsx("td",{className:"p-4",children:s.login}),e.jsx("td",{className:"p-4",children:s.activity}),e.jsx("td",{className:"p-4 ",children:e.jsxs("div",{className:"relative flex justify-center",children:[e.jsx("button",{onClick:()=>R(s.id),className:"p-2 rounded-lg hover:bg-gray-200 transition-colors",children:e.jsx(G,{size:18})}),j===s.id&&e.jsxs("div",{className:"absolute edit right-0 top-20 mt-2 w-48 bg-white rounded-lg shadow-md border border-gray-200 py-1 z-30",children:[e.jsxs("button",{onClick:()=>L(s),className:"flex items-center gap-3 w-full text-left px-4 py-2 text-blue-600 hover:bg-blue-50 transition-colors",children:[e.jsx(W,{size:16}),"Edit User"]}),e.jsxs("button",{onClick:()=>M(s.id),className:"flex items-center gap-3 w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(H,{size:16}),"Delete User"]})]})]})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx("div",{className:"text-6xl text-gray-300 mb-4",children:"ðŸ“­"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-500 mb-2",children:"No Users Found"}),e.jsx("p",{className:"text-gray-400 max-w-md",children:d?`No users found for "${d}". Try a different search term.`:`No users found in the ${c==="all"?"system":c+"s"} category.`}),(d||c!=="all")&&e.jsx("button",{onClick:()=>{C(""),U("all")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Show All Users"})]})})})})]})}),e.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 mt-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Bulk User Import"}),e.jsx("p",{className:"text-gray-600 mb-5",children:"Import multiple users using CSV/Excel files."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("button",{className:"flex items-center gap-2 border px-4 py-2 bg-white shadow-sm rounded-lg",children:[e.jsx(X,{})," Download Template"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg shadow-sm",children:[e.jsx(K,{})," Upload File"]})]})]})]})]}),z&&e.jsx("div",{className:"fixed inset-0 bg-gray-50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Add New User"}),e.jsx("button",{onClick:()=>{u(!1),N()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(E,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",value:i.name,onChange:s=>b("name",s.target.value),placeholder:"Enter full name",className:`w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.name?"border-red-500":"border-gray-300"}`}),a.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{type:"email",value:i.email,onChange:s=>b("email",s.target.value),placeholder:"Enter email address",className:`w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.email?"border-red-500":"border-gray-300"}`}),a.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),e.jsxs("select",{value:i.role,onChange:s=>b("role",s.target.value),className:`w-full border rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.role?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"trainer",children:"Trainer"}),e.jsx("option",{value:"admin",children:"Admin"})]}),a.role&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:i.status,onChange:s=>b("status",s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),i.avatar&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center font-semibold text-blue-700",children:i.avatar}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Avatar will be: ",i.avatar]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[e.jsx("button",{onClick:()=>{u(!1),N()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add User"})]})]})}),$&&r&&e.jsx("div",{className:"fixed bg-black flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-md w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit User"}),e.jsx("button",{onClick:()=>{h(!1),x(null),m({})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(E,{size:24})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:s=>p("name",s.target.value),placeholder:"Enter full name",className:`w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.name?"border-red-500":"border-gray-300"}`}),a.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>p("email",s.target.value),placeholder:"Enter email address",className:`w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.email?"border-red-500":"border-gray-300"}`}),a.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),e.jsxs("select",{value:r.role,onChange:s=>p("role",s.target.value),className:`w-full border rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${a.role?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"trainer",children:"Trainer"}),e.jsx("option",{value:"admin",children:"Admin"})]}),a.role&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:r.status,onChange:s=>p("status",s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),r.avatar&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center font-semibold text-blue-700",children:r.avatar}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Avatar: ",r.avatar]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t",children:[e.jsx("button",{onClick:()=>{h(!1),x(null),m({})},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update User"})]})]})}),j&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(null)})]})}export{ce as default};
