import{r as f,j as e,b as C,u as P}from"./index-BgvmjoPK.js";import{y as o,L as w}from"./index-Vs19GYf2.js";/* empty css                      */import{a as v}from"./index-B9ygI19o.js";import{d as k,E as A,q as E,r as F,p as M,o as I,G as B,H as D,I as W}from"./index-m96ZVajk.js";import{c as q}from"./index-BOvcIMEb.js";import{f as R,D as z}from"./index-CkG1-yBZ.js";import{k as L,l as U,m as Q,n as $,o as O,p as G,q as K,r as H,s as V,g as S}from"./index-Cc-SIf8Y.js";import{u as J}from"./index.esm-PryG91cN.js";import{B as _}from"./BackDashboard-cToXFvJ9.js";import"./clsx-B-dksMZM.js";import"./iconBase-BpTAibu1.js";import"./index-UswyhjMM.js";function X({formData:s,setFormData:m,nextStep:N}){const[r,a]=f.useState(s.thumbnailPreview||""),[u,h]=f.useState(!1),y=f.useRef(null),b=d=>{const{name:j,value:c,files:p}=d.target;if(j==="tags")m({...s,[j]:c});else if(j==="thumbnail"){if(p&&p[0]){const T=p[0];g(T)}}else m({...s,[j]:c})},g=d=>{if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp"].includes(d.type)){o.error("Please upload an image file (JPEG, PNG, GIF, WebP)");return}if(d.size>5*1024*1024){o.error("File size should be less than 5MB");return}const c=URL.createObjectURL(d);a(c),m({...s,thumbnail:d,thumbnailPreview:c}),o.success("Thumbnail uploaded successfully!")},i=()=>{a(""),m({...s,thumbnail:null,thumbnailPreview:""}),y.current&&(y.current.value=""),o.info("Thumbnail removed")},l=d=>{d.preventDefault(),h(!0)},x=d=>{d.preventDefault(),h(!1)},t=d=>{d.preventDefault(),h(!1);const j=d.dataTransfer.files[0];j&&g(j)},n=d=>{if(d.preventDefault(),!s.title.trim()){o.error("Webinar title is required");return}if(!s.description.trim()){o.error("Webinar description is required");return}if(!s.category){o.error("Please select a category");return}if(!s.thumbnail&&!r){o.error("Please upload a thumbnail");return}N()};return e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("form",{onSubmit:n,className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold mb-1 text-gray-800",children:"Basic Information"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Essential details about your webinar"}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Webinar Title *"}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:b,placeholder:"e.g., Advanced React Patterns Live Session",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Description *"}),e.jsx("textarea",{name:"description",value:s.description,onChange:b,rows:"4",placeholder:"Describe what participants will learn...",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Category *"}),e.jsxs("select",{name:"category",value:s.category,onChange:b,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-white",children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"frontend",children:"Frontend"}),e.jsx("option",{value:"backend",children:"Backend"}),e.jsx("option",{value:"fullstack",children:"Full Stack"}),e.jsx("option",{value:"ai",children:"AI / ML"}),e.jsx("option",{value:"datascience",children:"Data Science"}),e.jsx("option",{value:"devops",children:"DevOps"}),e.jsx("option",{value:"mobile",children:"Mobile Development"}),e.jsx("option",{value:"design",children:"Design"}),e.jsx("option",{value:"business",children:"Business"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Level"}),e.jsxs("select",{name:"level",value:s.level,onChange:b,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-white",children:[e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"}),e.jsx("option",{value:"All Levels",children:"All Levels"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:b,placeholder:"react, javascript, hooks, web development",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add relevant keywords to help participants find your webinar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Webinar Thumbnail *"}),r&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"relative w-full max-w-md h-48 rounded-lg overflow-hidden border border-gray-300",children:[e.jsx("img",{src:r,alt:"Thumbnail preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:i,className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full hover:bg-red-600 transition shadow-md",children:e.jsx(k,{size:14})})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.thumbnail?.name||"Current thumbnail"})]}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center cursor-pointer transition-all
                                ${u?"border-blue-500 bg-blue-50":r?"border-blue-300 bg-blue-50 hover:border-blue-400":"border-gray-300 hover:border-blue-400 hover:bg-blue-50"}`,onDragOver:l,onDragLeave:x,onDrop:t,children:[r?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"text-3xl text-blue-500 mb-2"}),e.jsx("p",{className:"text-blue-600 font-medium",children:"Drag & drop or click to change thumbnail"})]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"text-3xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium mb-1",children:"Drag & drop or click to upload thumbnail"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Recommended: 1280x720 px (16:9 ratio), Max 5MB"})]}),e.jsxs("div",{className:"mt-4 relative",children:[e.jsx("label",{htmlFor:"thumbnail",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg cursor-pointer transition inline-block",children:r?"Change File":"Choose File"}),e.jsx("input",{ref:y,type:"file",id:"thumbnail",name:"thumbnail",accept:"image/*",onChange:b,className:"hidden"})]})]}),!r&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF, WebP up to 5MB"})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-medium shadow-sm hover:shadow-md",children:"Next: Schedule"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Quick Tips"]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-700",children:"Title:"})," Keep it short, clear, and compelling."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-700",children:"Thumbnail:"})," Use high-quality, relevant images (16:9 ratio)."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-700",children:"Description:"})," Highlight key takeaways and benefits."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-gray-700",children:"Tags:"})," Use relevant keywords for better discoverability."]})]})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Basic Info Checklist"]}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-2",children:[{id:1,text:"Clear and descriptive title",checked:!!s.title.trim()},{id:2,text:"Detailed webinar description",checked:!!s.description.trim()},{id:3,text:"Category selected",checked:!!s.category},{id:4,text:"Thumbnail uploaded",checked:!!r}].map(d=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded flex items-center justify-center ${d.checked?"bg-green-100 border-green-500":"bg-gray-100 border-gray-300"} border`,children:d.checked&&e.jsx("span",{className:"text-green-500 text-xs",children:"âœ“"})}),e.jsx("span",{className:d.checked?"text-gray-700":"text-gray-500",children:d.text})]},d.id))}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[[!!s.title.trim(),!!s.description.trim(),!!s.category,!!r].filter(Boolean).length,"/4"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${[!!s.title.trim(),!!s.description.trim(),!!s.category,!!r].filter(Boolean).length/4*100}%`}})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-5 rounded-2xl border border-blue-100",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Category Guide"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Frontend:"})," React, Vue, Angular, UI/UX"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Backend:"})," Node.js, Python, Java, APIs"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"AI/ML:"})," Machine Learning, Data Science"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"DevOps:"})," Docker, Kubernetes, CI/CD"]})]})]})]})]})]})}function Y({formData:s,setFormData:m,nextStep:N,prevStep:r}){const[a,u]=f.useState(Array.isArray(s.agenda)&&s.agenda.length>0?s.agenda.map(i=>({date:typeof i.date=="string"&&i.date.includes("-")?i.date:i.date||"",topic:i.topic||""})):[{date:"",topic:""}]);f.useEffect(()=>{Array.isArray(s.agenda)&&s.agenda.length>0&&u(s.agenda.map(i=>({date:i.date||"",topic:i.topic||""})))},[s.agenda]);const h=(i,l,x)=>{const t=[...a];t[i][l]=x,u(t)},y=()=>{u([...a,{date:"",topic:""}])},b=i=>{const l=a.filter((x,t)=>t!==i);u(l.length?l:[{date:"",topic:""}])},g=async i=>{if(i.preventDefault(),a.some(t=>!t.date||!t.topic)){o.error("Please complete all agenda fields!");return}const x=a.map(t=>({date:t.date,topic:t.topic}));try{await new Promise(t=>{m(n=>{const d={...n,agenda:x};return t(d),d})}),o.success("âœ… Content saved!"),setTimeout(()=>N(),500)}catch(t){o.error("Failed to save content"),console.error(t)}};return f.useEffect(()=>{if(a.some(l=>l.date||l.topic)){const l=a.map(t=>({date:t.date,topic:t.topic})),x=setTimeout(()=>{m(t=>({...t,agenda:l}))},300);return()=>clearTimeout(x)}},[a,m]),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("form",{onSubmit:g,className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Content & Agenda"}),e.jsx("p",{className:"text-lg text-gray-500 mb-6",children:"Structure your webinar content"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Session Agenda"}),a.map((i,l)=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-3",children:[e.jsx("input",{type:"date",value:i.date,onChange:x=>h(l,"date",x.target.value),className:"border border-gray-300 rounded-lg p-2 flex-1"}),e.jsx("input",{value:i.topic,onChange:x=>h(l,"topic",x.target.value),placeholder:"Topic/Activity",className:"border border-gray-300 rounded-lg p-2 flex-1"}),e.jsx("button",{type:"button",onClick:()=>b(l),className:"text-red-500 hover:text-red-700",children:e.jsx(R,{})})]},l)),e.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-2 text-blue-600 hover:text-blue-800",children:[e.jsx(z,{})," Add Item"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-green-500 hover:text-white",children:"Previous"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Next: Settings"})]}),e.jsx(w,{position:"bottom-right",autoClose:2e3})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Quick Tips"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Title:"})," Keep it short and clear."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Timing:"})," 1â€“2 hours is ideal for engagement."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Capacity:"})," Start small for better interaction."]})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Webinar Checklist"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-2",children:["Title and description complete","Date and time scheduled","Agenda prepared","Materials ready","Test equipment"].map((i,l)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-3 h-3 bg-gray-300 rounded-sm"}),i]},l))})]})]})]})}function Z({formData:s,setFormData:m,prevStep:N}){const{id:r}=C(),a=P(),[u,h]=f.useState(null),[y,b]=f.useState(!1),[g,i]=f.useState(!1);console.log("Preview formData:",s);const l={title:s.title||"Webinar Title",description:s.description||"Webinar description will appear here...",duration:s.duration||"Duration not set",participants:s.maxParticipants?`Max ${s.maxParticipants}`:"Max participants not set",category:s.category||"Category not set",level:s.level||"Beginner",tags:s.tags||"No tags"},x=(c={})=>{const p=s.thumbnail&&typeof s.thumbnail=="object"&&s.thumbnail.name?"":typeof s.thumbnail=="string"?s.thumbnail:"",T=Array.isArray(s.agenda)?s.agenda:[];return{title:s.title,description:s.description,category:s.category,level:s.level,tags:s.tags,thumbnail:p,startDate:s.startDate,endDate:s.endDate,startTime:s.startTime,endTime:s.endTime,duration:s.duration,maxParticipants:s.maxParticipants,timezone:s.timezone,registrationDeadline:s.registrationDeadline,presentationFile:null,videoUrl:s.videoUrl||"",resources:Array.isArray(s.resources)?s.resources:null,agenda:T,recordSession:!!s.recordSession,confirmationEmail:!!s.confirmationEmail,reminder24:!!s.reminder24,reminder15:!!s.reminder15,enableQA:!!s.enableQA,enableChat:!!s.enableChat,enablePolls:!!s.enablePolls,status:"schedule",...c}},t=async()=>{i(!0);try{const c=x({status:"in-planning"});if(r){const p=await v.put(`http://localhost:5000/api/webinar/update/${r}`,c);o.success("âœ… Draft updated successfully!"),console.log("Draft updated:",p.data),a("/teacher/livewebinar")}else{const p=await v.post("http://localhost:5000/api/webinar/create",c,{headers:{"Content-Type":"application/json"}});o.success("âœ… Draft saved successfully!"),console.log("Draft saved:",p.data),a("/teacher/livewebinar")}}catch(c){console.error("Save draft error:",c.response?.data||c.message||c),o.error("âŒ Failed to save draft. Please try again.")}finally{i(!1)}},n=async()=>{b(!0);try{const c=x({status:"schedule"}),p=await v.post("http://localhost:5000/api/webinar/create",c,{headers:{"Content-Type":"application/json"}});h(p.data),console.log("Webinar created:",p.data),o.success("ðŸŽ‰ Webinar scheduled successfully!"),a("/teacher/livewebinar")}catch(c){console.error("Schedule error:",c.response?.data||c.message),o.error("âŒ Failed to schedule webinar. Please check your inputs.")}finally{b(!1)}},d=()=>{N()},j=()=>{u?._id&&u?.channelArn&&v.post("http://localhost:5000/api/live/end",{sessionId:u._id,channelId:u.channelArn.split("/").pop()})};return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-6xl rounded-2xl shadow-md p-6",children:[e.jsx(w,{position:"top-right"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Preview & Publish"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Review your webinar before scheduling"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-5 bg-gray-50 hover:bg-gray-100 transition-all duration-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:l.title}),e.jsx("p",{className:"text-gray-500 text-base mb-4",children:l.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:s.startDate||"Date TBD"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:s.startTime||"Time TBD"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:l.duration})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:l.participants})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"w-4 h-4 text-gray-500 mr-2"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Category:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:l.category})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"w-4 h-4 text-gray-500 mr-2"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Level:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:l.level})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"w-4 h-4 text-gray-500 mr-2"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Tags:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:l.tags})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-4 h-4 text-gray-500 mr-2"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Recording:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:s.recordSession?"Enabled":"Disabled"})]})]})}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("h4",{className:"font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Settings Summary:"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.enableQA&&e.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(G,{className:"w-3 h-3"}),"Q&A"]}),s.enableChat&&e.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"}),"Chat"]}),s.enablePolls&&e.jsxs("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(H,{className:"w-3 h-3"}),"Polls"]}),s.confirmationEmail&&e.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(V,{className:"w-3 h-3"}),"Confirmation Email"]}),s.reminder24&&e.jsxs("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(S,{className:"w-3 h-3"}),"24h Reminder"]}),s.reminder15&&e.jsxs("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(S,{className:"w-3 h-3"}),"15min Reminder"]})]})]})]}),u&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-800 mb-3",children:"ðŸŽ‰ Webinar Scheduled Successfully!"}),e.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border",children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"OBS Streaming Details:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-600 w-40",children:"Ingest Endpoint:"}),e.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded text-gray-800",children:["rtmps://",u?.data?.ivs?.ingestEndpoint,":443/app/"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-600 w-40",children:"Stream Key:"}),e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-gray-800",children:u?.data?.ivs?.streamKey})]})]})]}),u?.data?.webinarSchedule?.sessions&&e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Webinar Sessions:"}),e.jsx("div",{className:"space-y-3",children:u.data.webinarSchedule.sessions.map((c,p)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h6",{className:"font-medium text-gray-800",children:["Session ",p+1,": ",c.topic]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.status==="scheduled"?"bg-green-100 text-green-800":c.status==="completed"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Start:"})," ",c.startDateTime]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"End:"})," ",c.endDateTime]})]})]},p))})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:e.jsx("button",{onClick:j,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-red-600 text-white px-6 py-2.5 rounded-lg hover:bg-red-700 transition-all shadow-sm",children:"End Stream"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 pt-6 mt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:d,className:"w-full sm:w-auto border border-gray-300 text-gray-700 px-5 py-2.5 rounded-lg hover:bg-gray-100 transition-all flex items-center justify-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),"Previous"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsx("button",{onClick:t,disabled:g,className:"w-full sm:w-auto flex items-center justify-center gap-2 border border-gray-300 text-gray-700 px-5 py-2.5 rounded-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4 text-gray-600"}),"Save as Draft"]})}),e.jsx("button",{onClick:n,disabled:y,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Scheduling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4 text-white"}),"Schedule Webinar"]})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Quick Tips"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Title:"})," Keep it short and clear."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Timing:"})," 1â€“2 hours is ideal for engagement."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â€¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Capacity:"})," Start small for better interaction."]})]})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Webinar Checklist"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-2",children:["Title and description complete","Date and time scheduled","Agenda prepared","Materials ready","Test equipment"].map((c,p)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"}),e.jsx("span",{children:c})]},p))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-5 rounded-xl border border-blue-100",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Webinar Stats"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Duration:"}),e.jsx("span",{className:"font-medium",children:s.duration||"Not set"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Max Participants:"}),e.jsx("span",{className:"font-medium",children:s.maxParticipants||"Unlimited"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Recording:"}),e.jsx("span",{className:"font-medium",children:s.recordSession?"âœ… Yes":"âŒ No"})]})]})]})]})]})]})})}function ee({formData:s,setFormData:m,nextStep:N,prevStep:r}){const[a,u]=f.useState({}),h=g=>{const{name:i,value:l}=g.target;m(x=>({...x,[i]:l}))},y=()=>{const g={};if(["startDate","endDate","startTime","endTime","duration","timezone","maxParticipants","registrationDeadline"].forEach(i=>{(!s[i]||String(s[i]).trim()==="")&&(g[i]="Required")}),s.startDate&&s.endDate){const i=new Date(s.startDate),l=new Date(s.endDate);i>l&&(g.endDate="End date must be the same or after start date")}if(s.startDate&&s.endDate&&s.startTime&&s.endTime&&s.startDate===s.endDate){const i=t=>{const[n,d]=t.split(":").map(Number);return n*60+d},l=i(s.startTime),x=i(s.endTime);l>=x&&(g.endTime="End time must be after start time for the same day")}return s.endDate&&s.registrationDeadline&&new Date(s.registrationDeadline)>new Date(s.endDate)&&(g.registrationDeadline="Deadline cannot be after the webinar end date"),u(g),Object.keys(g).length===0},b=g=>{g.preventDefault(),y()?(o.success(e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-lg",children:"âœ… Webinar Scheduled Successfully!"}),e.jsxs("span",{className:"text-sm mt-1",children:[e.jsx("strong",{children:"When:"})," ",new Date(s.startDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",s.startTime]}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"Duration:"})," ",s.duration]}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"Max Participants:"})," ",s.maxParticipants]})]}),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),setTimeout(()=>N(),800)):o.error(e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold",children:"âš ï¸ Please Complete All Required Fields"}),e.jsx("span",{className:"text-sm",children:"Check the highlighted fields above"})]}),{position:"top-right",autoClose:4e3,hideProgressBar:!1,theme:"colored"})};return e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("form",{onSubmit:b,className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Schedule & Timing"}),e.jsx("p",{className:"text-lg text-gray-500 mb-6",children:"When will your webinar take place?"}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date *"}),e.jsx("input",{name:"startDate",type:"date",value:s.startDate||"",onChange:h,className:`w-full border ${a.startDate?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2`}),a.startDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.startDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date *"}),e.jsx("input",{name:"endDate",type:"date",value:s.endDate||"",onChange:h,className:`w-full border ${a.endDate?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2`}),a.endDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.endDate})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Time *"}),e.jsx("input",{name:"startTime",type:"time",value:s.startTime||"",onChange:h,className:`w-full border ${a.startTime?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none`}),a.startTime&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.startTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Time *"}),e.jsx("input",{name:"endTime",type:"time",value:s.endTime||"",onChange:h,className:`w-full border ${a.endTime?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none`}),a.endTime&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.endTime})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Duration (hours) *"}),e.jsxs("select",{name:"duration",value:s.duration||"",onChange:h,className:`w-full border ${a.duration?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none`,children:[e.jsx("option",{value:"30 minutes",children:"30 minutes"}),e.jsx("option",{value:"1 hour",children:"1 hour"}),e.jsx("option",{value:"1.5 hour",children:"1.5 hour"}),e.jsx("option",{value:"2 hour",children:"2 hour"}),e.jsx("option",{value:"3 hour",children:"3 hour"})]}),a.duration&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.duration})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timezone *"}),e.jsxs("select",{name:"timezone",value:s.timezone||"",onChange:h,className:`w-full border ${a.timezone?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none`,children:[e.jsx("option",{value:"",children:"Select Timezone"}),e.jsx("option",{value:"Eastern Time (EST)",children:"Eastern Time (EST)"}),e.jsx("option",{value:"Central Time (CST)",children:"Central Time (CST)"}),e.jsx("option",{value:"Mountain Time (MST)",children:"Mountain Time (MST)"}),e.jsx("option",{value:"Pacific Time (PST)",children:"Pacific Time (PST)"}),e.jsx("option",{value:"Indian Standard Time (IST)",children:"Indian Standard Time (IST)"}),e.jsx("option",{value:"UTC",children:"UTC"})]}),a.timezone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.timezone})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Participants *"}),e.jsx("input",{name:"maxParticipants",type:"number",min:"1",value:s.maxParticipants||"",onChange:h,className:`w-full border ${a.maxParticipants?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none`}),a.maxParticipants&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.maxParticipants})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Registration Deadline *"}),e.jsx("input",{name:"registrationDeadline",type:"date",value:s.registrationDeadline||"",onChange:h,className:`w-full border ${a.registrationDeadline?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none`}),a.registrationDeadline&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.registrationDeadline})]})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx("button",{type:"button",onClick:r,className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-colors font-medium",children:"â† Previous"}),e.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:["Save Schedule & Continue",e.jsx("span",{className:"text-lg",children:"â†’"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Quick Tips"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Timing:"})," Schedule at least 1 week in advance."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Duration:"})," 1â€“2 hours is ideal for engagement."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Timezone:"})," Choose based on your target audience."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Capacity:"})," Start small for better interaction."]})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Schedule Preview"}),e.jsxs("div",{className:"text-sm space-y-2",children:[s.startDate&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date:"}),e.jsx("span",{className:"font-medium",children:new Date(s.startDate).toLocaleDateString()})]}),s.startTime&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Time:"}),e.jsx("span",{className:"font-medium",children:s.startTime})]}),s.duration&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Duration:"}),e.jsx("span",{className:"font-medium",children:s.duration})]}),s.timezone&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Timezone:"}),e.jsx("span",{className:"font-medium",children:s.timezone})]}),s.maxParticipants&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Max Participants:"}),e.jsx("span",{className:"font-medium",children:s.maxParticipants})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-5 rounded-2xl",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"âœ… Ready to Proceed?"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Once you complete this schedule, you'll move on to adding content and materials for your webinar."})]})]})]})}function se({formData:s,setFormData:m,nextStep:N,prevStep:r}){const{register:a,handleSubmit:u,watch:h,formState:{errors:y,isSubmitting:b}}=J({defaultValues:s}),g=h("recordSession"),i=h("enableQA"),l=async x=>{try{await new Promise(t=>setTimeout(t,1e3)),m(t=>({...t,...x})),o.success("âœ… Webinar settings saved successfully!"),N()}catch{o.error("âŒ Failed to save settings")}};return e.jsxs("div",{children:[e.jsx(w,{position:"top-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("form",{onSubmit:u(l),className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm  space-y-6 transition-all duration-300",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Webinar Settings"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Configure your webinar preferences & participant options"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 flex items-center justify-between hover:bg-gray-50 transition",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Record Session"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g?"Participants can view recording after the live session.":"Recording will not be saved."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",...a("recordSession"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 rounded-full peer peer-checked:bg-blue-600 transition-all duration-300"}),e.jsx("div",{className:"absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300 peer-checked:translate-x-5"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Registration Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",...a("confirmationEmail",{required:!0}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Send confirmation email"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically confirm registrations"})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",...a("reminder24"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Send 24-hour reminder"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notifies users a day before the session"})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",...a("reminder15"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Send 15-minute reminder"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Sends a short reminder before start"})]})]})]}),y.confirmationEmail&&e.jsx("p",{className:"text-sm text-red-500 mt-2 bg-red-50 p-2 rounded",children:"âš ï¸ Please enable confirmation email."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Interaction Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",...a("enableQA"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Enable Q&A"}),e.jsx("p",{className:"text-sm text-gray-500",children:i?"Participants can ask live questions.":"Q&A will be disabled."})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",...a("enableChat"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Enable Chat"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow attendees to chat during the webinar"})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",...a("enablePolls"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-800",children:"Enable Polls"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add interactive polls to increase engagement"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:r,className:"border border-gray-300 text-gray-700 px-6 py-2.5 rounded-lg hover:bg-gray-100 transition font-medium",children:"â† Previous"}),e.jsx("button",{type:"submit",disabled:b,className:"bg-blue-600 text-white px-8 py-2.5 rounded-lg hover:bg-blue-700 transition font-medium disabled:opacity-50 flex items-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Next: Preview â†’"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Quick Tips"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Title:"})," Keep it short and clear."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Timing:"})," 1â€“2 hours is ideal for engagement."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Capacity:"})," Start small for better interaction."]})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Webinar Checklist"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-2",children:["Title and description complete","Date and time scheduled","Agenda prepared","Materials ready","Test equipment"].map((x,t)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-3 h-3 bg-gray-300 rounded-sm"}),x]},t))})]})]})]})]})}function ge(){const{id:s}=C(),[m,N]=f.useState(1),[r,a]=f.useState({title:"",description:"",category:"",level:"Beginner",tags:"",thumbnail:null,startDate:"",endDate:"",startTime:"",endTime:"",duration:"",maxParticipants:"",timezone:"UTC",registrationDeadline:"",agenda:[],recordSession:!0,confirmationEmail:!0,reminder24:!0,reminder15:!0,enableQA:!0,enableChat:!0,enablePolls:!1});f.useEffect(()=>{console.log("ðŸ”„ useEffect triggered with id:",s),s&&s!=="undefined"?(console.log("ðŸ“¡ Fetching webinar data for ID:",s),v.get(`http://localhost:5000/api/webinar/${s}`).then(t=>{console.log("âœ… Webinar data received:",t.data);const n=t.data.data||t.data;if(!n){o.error("No webinar data found");return}let d=[];n.agenda&&Array.isArray(n.agenda)?d=n.agenda:n.webinarSchedule?.sessions&&(d=n.webinarSchedule.sessions.map(p=>({date:p.date,topic:p.topic||""})));let j="";Array.isArray(n.tags)?j=n.tags.join(", "):typeof n.tags=="string"&&(j=n.tags);const c=n.webinarSchedule||{};a(p=>({...p,title:n.title||"",description:n.description||"",category:n.category||"",level:n.level||"Beginner",tags:j,thumbnail:n.thumbnail||null,startDate:c.startDate||n.startDate||n.date||"",endDate:c.endDate||n.endDate||"",startTime:c.startTime||n.startTime||n.time||"",endTime:c.endTime||n.endTime||"",duration:n.duration||"1 hour",maxParticipants:n.maxParticipants||n.limit||"100",timezone:n.timezone||"UTC",registrationDeadline:n.registrationDeadline||"",videoUrl:n.videoUrl||"",resources:n.resources||[],agenda:d,recordSession:n.recordSession??!0,confirmationEmail:n.confirmationEmail??!0,reminder24:n.reminder24??!0,reminder15:n.reminder15??!0,enableQA:n.enableQA??!0,enableChat:n.enableChat??!0,enablePolls:n.enablePolls??!1})),console.log("âœ… Form data updated for editing"),o.success("Webinar data loaded for editing!")}).catch(t=>{console.error("âŒ Error loading webinar:",t.response?.data||t.message),o.error(`Failed to load webinar: ${t.response?.data?.message||t.message}`)})):(console.log("ðŸ†• Creating new webinar (no id provided)"),a({title:"",description:"",category:"",level:"Beginner",tags:"",thumbnail:null,startDate:"",endDate:"",startTime:"",endTime:"",duration:"",maxParticipants:"",timezone:"UTC",registrationDeadline:"",agenda:[],recordSession:!0,confirmationEmail:!0,reminder24:!0,reminder15:!0,enableQA:!0,enableChat:!0,enablePolls:!1}))},[s]);const u=5,h=()=>{let t=[];return r.title.trim()||t.push("Title is required."),r.description.trim()||t.push("Description is required."),r.category.trim()||t.push("Category is required."),r.tags.trim()||t.push("Tags is required."),r.thumbnail||t.push("Thumbnail is required."),t.length>0?(o.error(t.join(`
`),{position:"top-center",autoClose:3e3}),!1):(o.success("Basic Info validated successfully!"),!0)},y=()=>{let t=[];if(r.startDate||t.push("Start date is required."),r.startTime||t.push("Start time is required."),r.endDate||t.push("End date is required."),r.endTime||t.push("End time is required."),r.duration||t.push("Duration is required."),r.maxParticipants||t.push("Max participants required."),r.registrationDeadline||t.push("Registration deadline is required."),r.startDate&&r.endDate){const n=new Date(r.startDate),d=new Date(r.endDate);n>d&&t.push("End date must be the same or after start date.")}if(r.startDate&&r.endDate&&r.startTime&&r.endTime&&r.startDate===r.endDate){const n=d=>{const[j=0,c=0]=String(d).split(":").map(Number);return j*60+c};n(r.startTime)>=n(r.endTime)&&t.push("For the same day, end time must be after start time.")}return r.registrationDeadline&&r.endDate&&new Date(r.registrationDeadline)>new Date(r.endDate)&&t.push("Registration deadline cannot be after the webinar end date."),t.length>0?(o.error(t.join(`
`),{position:"top-center",autoClose:3e3}),!1):(o.success("Schedule validated successfully!"),!0)},b=()=>{let t=[];return(!r.agenda||r.agenda.length===0)&&t.push("Agenda is required."),t.length>0?(o.error(t.join(`
`),{position:"top-center",autoClose:3e3}),!1):(o.success("Content validated successfully!"),!0)},g=()=>{let t=[];return t.length>0?(o.error(t.join(`
`),{position:"top-center",autoClose:3e3}),!1):(o.success("Settings validated successfully!"),!0)},i=()=>{let t=!0;m===1&&(t=h()),m===2&&(t=y()),m===3&&(t=b()),m===4&&(t=g()),t&&m<u&&N(m+1)},l=()=>{m>1&&N(m-1)},x=["BasicInfo","Schedule","Content","Settings","Preview"];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(w,{}),e.jsx(_,{}),e.jsxs("div",{className:"p-20",children:[e.jsxs("div",{className:"p-5",children:[e.jsx("h1",{className:"text-4xl font-semibold",children:"Schedule New Webinar"}),e.jsx("p",{className:"text-gray-500 pt-3",children:"Create an engaging live session for your students"})]}),e.jsx("div",{className:"flex justify-between gap-5 mb-8 bg-gray-50 rounded-full p-2",children:x.map((t,n)=>e.jsx("button",{onClick:()=>N(n+1),className:`w-50 p-2 rounded-full text-sm font-medium transition ${m===n+1?"bg-blue-600 text-white shadow-sm":"bg-white hover:bg-gray-100"}`,children:t},t))}),e.jsxs("div",{className:"mt-10",children:[m===1&&e.jsx(X,{formData:r,setFormData:a,nextStep:i,prevStep:l}),m===2&&e.jsx(ee,{formData:r,setFormData:a,nextStep:i,prevStep:l}),m===3&&e.jsx(Y,{formData:r,setFormData:a,nextStep:i,prevStep:l}),m===4&&e.jsx(se,{formData:r,setFormData:a,nextStep:i,prevStep:l}),m===5&&e.jsx(Z,{formData:r,setFormData:a,nextStep:i,prevStep:l})]})]})]})}export{ge as default};
