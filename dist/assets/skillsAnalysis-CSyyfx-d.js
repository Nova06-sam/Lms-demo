import{r as c,j as e}from"./index-BAzVzJec.js";import{m as d,n as m,F as x,o as F}from"./index-D9b6Bac8.js";import{B as O}from"./BackDashboard-IguRWa86.js";import{a as h}from"./index-B9ygI19o.js";import"./iconBase-CAFTq8Rg.js";import"./index-DaWSInqW.js";function Q(){const[g,p]=c.useState(0),[u,b]=c.useState(0),[j,f]=c.useState([]),[I,N]=c.useState(!0),y="691d796d5dc47bc643374f11",v=s=>s>=75?{text:"Improved",color:"text-green-600",bg:"bg-green-100",icon:e.jsx(F,{})}:s>=50?{text:"Stable",color:"text-blue-600",bg:"bg-blue-100",icon:e.jsx(d,{})}:s>=25?{text:"Needs Attention",color:"text-orange-600",bg:"bg-orange-100",icon:e.jsx(m,{})}:{text:"Critical",color:"text-red-600",bg:"bg-red-100",icon:e.jsx(x,{})},w=[{title:"Practice more coding challenges",desc:"Your coding proficiency (73%) has room for improvement"},{title:"Complete more problem-solving assessments",desc:"Increase from 8 to 12+ assessments for better accuracy"}],A=[{title:"Technical Excellence",desc:"Achieved 85%+ in Technical Skills",date:"Nov 2, 2025"},{title:"Problem Solver",desc:"Completed 5 coding challenges",date:"Oct 28, 2025"},{title:"Quick Learner",desc:"Improved by 15% in one month",date:"Oct 15, 2025"}],k={Technical:"ðŸ§ ","Problem Solving":"ðŸ§©",Comprehension:"ðŸ“˜",Coding:"âš¡","Critical Thinking":"ðŸ’¡"};c.useEffect(()=>{S()},[]);const S=async()=>{try{const s=await h.get("http://localhost:5000/api/assessments/all"),r=(Array.isArray(s.data.data)?s.data.data:[]).filter(t=>t.status==="published");b(r.length);const n=await h.get(`http://localhost:5000/api/submissions/student/${y}`),R=Array.isArray(n.data.data)?n.data.data:[],l={};r.forEach(t=>{Array.isArray(t.skills)&&t.skills.forEach(a=>{l[a]||(l[a]={title:a,total:0,completed:0}),l[a].total+=1})}),R.forEach(t=>{t.passed&&Array.isArray(t.skills)&&t.skills.forEach(a=>{l[a]&&(l[a].completed+=1)})});const C=Object.values(l).map(t=>({title:t.title,passed:t.completed,total:t.total,rating:t.total>0?Math.round(t.completed/t.total*100):0,icon:k[t.title]||"â­"}));f(C);const E=Object.values(l).reduce((t,a)=>t+a.completed,0),o=Object.values(l).reduce((t,a)=>t+a.total,0),T=o>0?Math.round(E/o*100):0;p(T)}catch(s){console.error("Error fetching skills:",s)}finally{N(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"pt-3",children:[e.jsx(O,{}),e.jsxs("section",{className:"skills p-6 pt-13 ",children:[e.jsxs("div",{className:"s-title mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Skill Rating Analytics"}),e.jsx("p",{className:"text-gray-400",children:"Track your skill development based on assessment performance and learning pace"})]}),e.jsxs("div",{className:"s-rating bg-blue-500 flex justify-between p-5 rounded-2xl",children:[e.jsxs("div",{className:"s-r-left flex gap-2 flex-col",children:[e.jsx("p",{className:"text-white",children:"overall skill Rating"}),e.jsxs("h1",{className:"text-white text-2xl",children:[e.jsx("span",{className:"text-5xl font-bold",children:g}),"/100"]}),e.jsxs("p",{className:"text-white",children:["Based on ",u," Assesments"]})]}),e.jsx("div",{className:"text-6xl crl-design flex justify-center items-center",children:e.jsx(d,{className:"text-white text-8xl"})})]}),e.jsxs("div",{className:"skill-break pt-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Skill Breakdown"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-10",children:j.map((s,i)=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm hover:shadow-md transition",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"skill-icon bg-green-400 p-2 rounded-2xl",children:e.jsx("span",{className:"text-2xl",children:s.icon})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.passed," / ",s.total," Completed"]})]})]}),(()=>{const r=v(s.rating);return e.jsxs("span",{className:`text-xs ${r.color} ${r.bg} px-2 py-1 rounded-full flex items-center gap-1`,children:[r.icon," ",r.text]})})()]}),e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Current Rating"}),e.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full overflow-hidden mb-1",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.rating}%`}})}),e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[s.rating,"/100"]})]},i))})]}),e.jsxs("div",{className:"Skill-achivements",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Recent Achievements"}),e.jsxs("div",{className:"bg-white rounded-xl flex flex-col gap-4 border border-gray-200 shadow-sm p-5 mb-10",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Milestones based on your performance"}),A.map((s,i)=>e.jsxs("div",{className:"flex border border-gray-400 justify-between hover:bg-gray-200 cursor-pointer transition-all duration-75 items-center p-3 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"text-blue-600 text-lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500",children:s.desc})]})]}),e.jsx("p",{className:"text-sm text-gray-400",children:s.date})]},i))]})]}),e.jsxs("div",{className:"skill-recommendation",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Improvement Recommendations"}),e.jsxs("div",{className:"bg-white border-dashed border-2 border-gray-200 rounded-xl p-5",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-3",children:"Focus areas to enhance your skills"}),e.jsx("ul",{className:"space-y-3",children:w.map((s,i)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(x,{className:"text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500",children:s.desc})]})]},i))})]})]})]})]})})}export{Q as default};
