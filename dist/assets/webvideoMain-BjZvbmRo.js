import{u as j,j as e,r as l,b as y}from"./index-BAzVzJec.js";import{a as N}from"./index-B9ygI19o.js";import{j as v,t as w,u as S,x as C}from"./index-BoJ_87Vx.js";import{g as D}from"./index-D9b6Bac8.js";import{H as T}from"./index-CzwuvtqY.js";import k from"./LivePlayer-B93g6P9K.js";import"./iconBase-CAFTq8Rg.js";import"./hls-CiLLo4G9.js";function W({webinar:t,onSelectSession:n}){const r=j();if(!t)return e.jsx("div",{className:"p-6",children:e.jsx("p",{children:"Loading sessions..."})});const s=t?.webinarSchedule?.sessions||[];return e.jsxs("div",{className:"p-6",children:[e.jsx("button",{onClick:()=>r(-1),className:"mb-4 px-4 py-2 hover:bg-green-100 text-gray-700 rounded-lg border hover:text-green-700 transition flex items-center gap-2",children:"â† Back"}),e.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-800",children:"Sessions"}),s.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No sessions available"}):e.jsx("ul",{className:"space-y-3",children:s.map((i,a)=>e.jsxs("li",{onClick:()=>n(i),className:`p-3 border rounded-lg cursor-pointer transition ${i.status==="completed"?"bg-green-50 border-green-200":"bg-white hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:i.topic||`Session ${a+1}`}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.date&&e.jsxs("p",{className:"flex items-center gap-1",children:["ðŸ“… ",i.date]}),i.startDateTime&&i.endDateTime&&e.jsxs("p",{className:"mt-1",children:[new Date(i.startDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - "," ",new Date(i.endDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),i.status==="completed"&&e.jsx(v,{className:"text-green-500 text-xl ml-2"})]}),i.status&&i.status!=="completed"&&e.jsx("span",{className:`inline-block mt-2 px-2 py-1 text-xs rounded ${i.status==="upcoming"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})]},i._id||a))})]})}function E({activeTab:t,setActiveTab:n}){const r=["notes","resources","assignments","discussion"];return e.jsx("div",{className:"flex gap-4 mb-4 border-b",children:r.map(s=>e.jsx("button",{onClick:()=>n(s),className:`pb-2 capitalize font-medium ${t===s?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-blue-500"}`,children:s},s))})}function A(){const[t,n]=l.useState(""),[r,s]=l.useState([{time:"2:15",text:"useEffect is called after every render by default.",date:"2 days ago"},{time:"8:45",text:"Cleanup function prevents memory leaks.",date:"2 days ago"}]),i=()=>{t.trim()&&(s([{time:"4:32",text:t,date:"Just now"},...r]),n(""))};return e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Lesson Notes"}),e.jsx("textarea",{value:t,onChange:a=>n(a.target.value),placeholder:"Write your notes here...",className:"w-full p-3 border rounded-lg mb-2 h-24 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Auto-saved at 4:32"}),e.jsx("button",{onClick:i,className:"bg-blue-600 text-white px-4 py-1.5 rounded-lg hover:bg-blue-700 transition",children:"Save Note"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-700",children:"Previous Notes"}),r.map((a,o)=>e.jsxs("div",{className:"flex justify-between bg-gray-100 rounded-lg p-3 mb-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:a.time})," â€” ",a.text]}),e.jsx("p",{className:"text-xs text-gray-400",children:a.date})]},o))]})]})}function L(){const t=[{title:"React Documentation",type:"Link"},{title:"Code Examples",type:"File"},{title:"Cheat Sheet",type:"Pdf"},{title:"Exercise Files",type:"Zip"}];return e.jsxs("div",{className:"p-8 bg-gray-50 ",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Course Resources"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4 ",children:t.map((n,r)=>e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl shadow-sm p-5 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:e.jsx(T,{className:"text-blue-500 text-2xl"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-800",children:n.title}),e.jsx("p",{className:"text-sm text-gray-500",children:n.type})]})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition",children:e.jsx(D,{className:"text-gray-600 text-lg"})})]},r))}),e.jsx("hr",{className:"border-gray-200 mb-4"})]})}function F(){const t=[{title:"Build a Todo App with useState",description:"Create a functional todo application using React hooks",dueDate:"Dec 28, 2024",points:100,status:"pending",buttonText:"Continue"},{title:"useEffect Practice Exercise",description:"Implement data fetching and cleanup in a React component",dueDate:"Dec 30, 2024",points:75,status:"not started",buttonText:"Start Assignment"}],n=s=>s==="pending"?"bg-blue-100 text-blue-600":s==="not started"?"bg-gray-100 text-gray-600":"bg-green-100 text-green-600",r=s=>s==="pending"||s==="not started"?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700";return e.jsx("div",{className:"p-8 bg-gray-50 ",children:t.map((s,i)=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between hover:shadow-md transition-all",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1 justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s.title}),e.jsx("span",{className:`text-xs px-2 py-0.5  rounded-full font-medium ${n(s.status)}`,children:s.status})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",s.dueDate," â€¢ ",s.points," points"]})]}),e.jsx("button",{className:`mt-4 sm:mt-0 text-white text-sm font-medium px-5 py-2 rounded-full transition ${r(s.status)}`,children:s.buttonText})]},i))})}function V(){const[t,n]=l.useState([{id:1,user:"Mike Chen",time:"2 hours ago",text:"Great explanation of useEffect! Could you provide more examples of cleanup functions?",likes:8,replies:3,initials:"MC",color:"bg-blue-500"},{id:2,user:"Emma Wilson",time:"1 day ago",text:"I'm having trouble understanding the dependency array. When should it be empty vs when should it include variables?",likes:12,replies:5,initials:"EW",color:"bg-green-500"},{id:3,user:"Alex Thompson",time:"2 days ago",text:"This course is amazing! The practical examples really help understand the concepts.",likes:15,replies:2,initials:"AT",color:"bg-yellow-500"}]),[r,s]=l.useState(""),i=()=>{if(r.trim()==="")return;const a={id:Date.now(),user:"You",time:"Just now",text:r,likes:0,replies:0,initials:"U",color:"bg-gray-500"};n([a,...t]),s("")};return e.jsxs("div",{className:"p-8 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Discussion"}),e.jsx("button",{className:"bg-blue-600 p-2 mb-3 rounded-xl text-white",children:"Ask Question"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-6",children:[e.jsx("textarea",{placeholder:"Ask a question or share your thoughts...",className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-blue-400 focus:outline-none resize-none",rows:3,value:r,onChange:a=>s(a.target.value)}),e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx("button",{onClick:i,className:"bg-blue-600 text-white text-sm px-5 py-2 rounded-full font-medium hover:bg-blue-700 transition",children:"Post"})})]}),e.jsx("div",{className:"space-y-4",children:t.map(a=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-10 h-10 ${a.color} text-white rounded-full flex items-center justify-center font-semibold`,children:a.initials}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:a.user}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time})]}),e.jsx("p",{className:"text-gray-700 text-sm mt-1",children:a.text}),e.jsxs("div",{className:"flex items-center gap-5 mt-3 text-gray-500 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-blue-600",children:[e.jsx(w,{})," ",a.likes]}),e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-blue-600",children:[e.jsx(S,{})," ",a.replies," replies"]})]})]})]}),e.jsx("div",{className:"mt-3 sm:mt-0 sm:self-start",children:e.jsx(C,{className:"text-gray-400 cursor-pointer hover:text-gray-600"})})]},a.id))})]})}function J({}){const[t,n]=l.useState(null),[r,s]=l.useState(!0),[i,a]=l.useState(null),[o,u]=l.useState("notes"),[h,m]=l.useState(null),{webinarId:c}=y(),[g,b]=l.useState("");if(l.useEffect(()=>{if(t){const d=t.webinarSchedule?.sessions||t.sessions||[];m(d[0]||null);return}if(!c){a("Webinar ID missing"),s(!1);return}(async()=>{try{const d=await N.get(`http://localhost:5000/api/webinar/${c}`);if(d.data.success){const x=d.data.data;n(x),x.ivs?.playbackUrl&&b(x.ivs.playbackUrl);const f=x.webinarSchedule?.sessions||x.sessions||[];m(f[0]||null)}else a("Failed to load webinar")}catch{a("Error fetching webinar")}finally{s(!1)}})()},[c]),r)return e.jsx("div",{className:"p-6 text-center",children:"Loading webinar..."});if(i||!t)return e.jsx("div",{className:"p-6 text-center text-red-500",children:i});const p=t.webinarSchedule?.sessions||t.sessions||[];return e.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50",children:[e.jsx("div",{className:"md:w-1/4 bg-white shadow-sm border-r",children:e.jsx(W,{webinar:t,sessions:p,onSelectSession:m,activeSession:h})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:t.description}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Category: ",t.category," | Level: ",t.level]})]})}),e.jsx(k,{playbackUrl:g}),e.jsx(E,{activeTab:o,setActiveTab:u}),e.jsxs("div",{className:"mt-6",children:[o==="notes"&&e.jsx(A,{webinarId:c}),o==="resources"&&e.jsx(L,{webinarId:c}),o==="assignments"&&e.jsx(F,{webinarId:c}),o==="discussion"&&e.jsx(V,{webinarId:c})]})]})]})}export{J as default};
