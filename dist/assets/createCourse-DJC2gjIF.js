import{j as e,u as I,b as z,r as p}from"./index-BgvmjoPK.js";import{j as V}from"./index-Cc-SIf8Y.js";import{G as W}from"./iconBase-BpTAibu1.js";import{d as H}from"./index-B8Dn2etu.js";import{a as _}from"./index-rsXDEfbO.js";import{a as G}from"./index-DtPn346u.js";import{L as E,y as a}from"./index-Vs19GYf2.js";/* empty css                      */import{a as w}from"./index-B9ygI19o.js";import{u as Y}from"./index.esm-PryG91cN.js";import{B as J}from"./BackDashboard-cToXFvJ9.js";import{c as K}from"./createLucideIcon-DHCVcJg3.js";import"./clsx-B-dksMZM.js";import"./index-UswyhjMM.js";const Q=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],X=K("send",Q);function Z(h){return W({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#90CAF9",points:"40,45 8,45 8,3 30,3 40,13"},child:[]},{tag:"polygon",attr:{fill:"#E1F5FE",points:"38.5,14 29,14 29,4.5"},child:[]},{tag:"polygon",attr:{fill:"#1976D2",points:"30,28 20,22 20,34"},child:[]}]})(h)}function ee({onAddChapter:h,onCancel:c,index:m}){const{register:u,handleSubmit:N,formState:{errors:o},reset:d,watch:j}=Y(),g=j("pdfFiles"),x=j("chapterFile"),S=n=>{const b={id:Date.now(),chapterName:n.chapterName,description:n.description,notes:n.notes||"",timestamp:new Date().toISOString(),videoFile:n.chapterFile[0]||null,pdfFiles:n.pdfFiles?Array.from(n.pdfFiles):[]};h(b),a.success("ðŸŽ¥ Chapter uploaded successfully!"),console.log("=== NEW CHAPTER ADDED ==="),console.log("Chapter Details:",b),d()},P=n=>{console.log("âŒ Form Errors:",n),a.error("âš ï¸ Please fill all required fields correctly!")};return e.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-2xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upload New Chapter"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Please provide Chapter details and required files."}),e.jsxs("form",{onSubmit:N(S,P),className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Chapter Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",...u("chapterName",{required:"Chapter name is required",minLength:{value:3,message:"At least 3 characters required"}}),placeholder:"Enter Chapter name",className:`w-full border ${o.chapterName?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500`}),o.chapterName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.chapterName.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{...u("description",{required:"Description is required",minLength:{value:10,message:"Minimum 10 characters required"}}),placeholder:"Write a short description",rows:"4",className:`w-full border ${o.description?"border-red-500":"border-gray-300"} rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500`}),o.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.description.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Upload Video Chapter ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"file",accept:"video/*",...u("chapterFile",{required:"Video file is required"}),className:`w-full border ${o.chapterFile?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2 cursor-pointer`}),o.chapterFile&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.chapterFile.message}),x&&x.length>0&&e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-700",children:["Selected Video: ",x[0].name]}),e.jsxs("p",{className:"text-xs text-blue-600",children:["Size: ",(x[0].size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Upload PDF Files (Optional)"}),e.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,...u("pdfFiles"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 cursor-pointer"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"You can select multiple PDF files. Hold Ctrl (or Cmd on Mac) to select multiple files."}),g&&g.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected PDF Files (",g.length,"):"]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:Array.from(g).map((n,b)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"truncate flex-1",children:n.name}),e.jsxs("span",{className:"text-xs text-gray-400",children:["(",(n.size/1024/1024).toFixed(2)," MB)"]})]},b))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Additional Notes (Optional)"}),e.jsx("textarea",{...u("notes"),placeholder:"Any additional information about this chapter...",rows:"3",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition font-medium",children:"Upload Chapter"})]})]}),e.jsx(E,{position:"top-center",autoClose:2e3})]})}function xe(){const h=I(),{courseId:c}=z(),[m,u]=p.useState("Basics"),[N,o]=p.useState(""),[d,j]=p.useState(""),[g,x]=p.useState([]),[S,P]=p.useState(!1),[n,b]=p.useState(null),y=["Basics","Content","Settings","Publish"],F=p.useRef(null),[r,f]=p.useState({title:"",description:"",category:"",level:"",thumbnail:null,existingThumbnail:"",chapters:[],courseCategory:"",enrollmentLimit:"",courseThumbnail:""});p.useEffect(()=>{c&&w.get(`http://localhost:5000/api/courses/${c}`).then(s=>{const t=s.data;t.thumbnail&&j(t.thumbnail),f({title:t.courseTitle,description:t.courseDescription,category:t.courseCategory,level:t.courseLevel,thumbnail:(t.thumbnail,null),existingThumbnail:t.thumbnail||"",chapters:t.chapters?.map((l,i)=>({id:l._id||i,chapterName:l.lessonName,description:l.lessonDescription,notes:l.lessonNotes,videoUrl:l.lessonVideoURL,videoFile:null,pdfFiles:[]})),courseCategory:t.subcriptionPlan,enrollmentLimit:t.enrollmentLimit})})},[c]);const U=s=>{const t=s.target.files[0];if(t){const l=URL.createObjectURL(t);j(l),o(t.name),f(i=>({...i,thumbnail:t})),a.success("Thumbnail uploaded successfully!")}else o(""),f(l=>({...l,thumbnail:null}))},A=()=>{j(""),o(""),f(s=>({...s,thumbnail:null,existingThumbnail:""})),F.current&&(F.current.value=""),a.info("Thumbnail removed")},v=(s,t)=>{f(l=>({...l,[s]:t}))},T=()=>{switch(m){case"Basics":return r.title.trim()?r.description.trim()?r.category?r.level?!r.thumbnail&&!r.existingThumbnail?(a.error("Please upload a thumbnail"),!1):!0:(a.error("Please select a level"),!1):(a.error("Please select a category"),!1):(a.error("Course description is required"),!1):(a.error("Course title is required"),!1);case"Content":return r.chapters.length===0?(a.error("Please add at least one chapter"),!1):!0;case"Settings":return r.courseCategory?!0:(a.error("Please select a course Subcription Plan"),!1);default:return!0}},D=()=>{if(T()){const s=y.indexOf(m);s<y.length-1&&u(y[s+1])}},k=()=>{const s=y.indexOf(m);s>0&&u(y[s-1])},B=()=>{x(s=>[...s,Date.now()])},L=s=>{x(t=>t.filter(l=>l!==s))},$=(s,t)=>{const l=[...r.chapters,s];f(i=>({...i,chapters:l})),x(i=>i.filter(C=>C!==t)),a.success("Chapter added successfully!")},q=s=>{const t=r.chapters.filter(l=>l.id!==s);f(l=>({...l,chapters:t})),b(null),a.info("Chapter deleted successfully!")},R=s=>{b(n===s?null:s)},M=async()=>{if(!T())return;const s=new FormData;s.append("courseTitle",r.title),s.append("courseDescription",r.description),s.append("courseCategory",r.category),s.append("courseLevel",r.level),s.append("subcriptionPlan",r.courseCategory),s.append("enrollmentLimit",r.enrollmentLimit),s.append("teacherId","64a7f0f5c2f1b2e4d5a6b7c8"),s.append("status","published"),r.thumbnail instanceof File?s.append("thumbnail",r.thumbnail):r.existingThumbnail&&s.append("thumbnailUrl",r.existingThumbnail),r.chapters.forEach((t,l)=>{s.append("lessonName[]",t.chapterName),s.append("lessonDescription[]",t.description),s.append("lessonNotes[]",t.notes),t.videoFile instanceof File&&s.append(`lessonVideoURL-${l}`,t.videoFile),t.pdfFiles&&t.pdfFiles.length>0&&t.pdfFiles.forEach((i,C)=>{i instanceof File&&s.append(`lessonPdf-${l}-${C}`,i)})});try{c?(await w.put(`http://localhost:5000/api/courses/update/${c}`,s,{headers:{"Content-Type":"multipart/form-data"}}),h("/teacher/mycourse"),a.success("Course updated successfully! âœ¨")):(await w.post("http://localhost:5000/api/courses/upload",s,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>console.log(t.data)).catch(t=>console.error("Upload Error:",t.response?.data||t)),a.success("Course published successfully! ðŸš€"),h("/teacher/mycourse"))}catch(t){console.error("ðŸ”¥ Upload Error:",t.response?t.response.data:t),a.error("Failed to upload course")}},O=async()=>{if(!r.title.trim()){a.error("Course title is required to save draft");return}const s=new FormData;s.append("courseTitle",r.title),s.append("courseDescription",r.description||""),s.append("courseCategory",r.category||""),s.append("courseLevel",r.level||""),s.append("subcriptionPlan",r.courseCategory||""),s.append("enrollmentLimit",r.enrollmentLimit||""),s.append("teacherId","64a7f0f5c2f1b2e4d5a6b7c8"),s.append("status","draft"),r.thumbnail instanceof File?s.append("thumbnail",r.thumbnail):r.existingThumbnail&&s.append("thumbnailUrl",r.existingThumbnail),r.chapters.forEach((t,l)=>{s.append("lessonName[]",t.chapterName||""),s.append("lessonDescription[]",t.description||""),s.append("lessonNotes[]",t.notes||""),t.videoFile instanceof File&&s.append(`lessonVideoURL-${l}`,t.videoFile),t.pdfFiles&&t.pdfFiles.length>0&&t.pdfFiles.forEach((i,C)=>{i instanceof File&&s.append(`lessonPdf-${l}-${C}`,i)})});try{c?(await w.put(`http://localhost:5000/api/courses/update/${c}`,s,{headers:{"Content-Type":"multipart/form-data"}}),a.success("Course saved as draft! ðŸ’¾"),setTimeout(()=>{h("/teacher/mycourse")},1500)):(await w.post("http://localhost:5000/api/courses/upload",s,{headers:{"Content-Type":"multipart/form-data"}}),a.success("Course saved as draft! ðŸ’¾"),setTimeout(()=>{h("/teacher/mycourse")},1500))}catch(t){console.error("ðŸ”¥ Upload Error:",t.response?t.response.data:t),a.error("Failed to save draft")}};return e.jsxs("div",{className:"p-10 bg-gray-100 pt-20 min-h-screen",children:[e.jsx(E,{position:"top-center",autoClose:3e3}),e.jsx(J,{}),e.jsx("div",{children:e.jsx("h1",{className:"text-4xl font-semibold",children:c?"Edit Course":"Create Course"})}),e.jsx("div",{className:"flex justify-around mt-10 bg-gray-200 rounded-full px-3 py-1",children:y.map(s=>e.jsx("button",{onClick:()=>u(s),className:`w-100 rounded-full px-5 py-1 font-medium transition ${m===s?"bg-white shadow-md":""}`,children:s},s))}),e.jsxs("div",{className:"mt-6",children:[m==="Basics"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-1",children:"Course Information"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Basic details about your course"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Title *"}),e.jsx("input",{type:"text",value:r.title,onChange:s=>v("title",s.target.value),placeholder:"e.g., Complete Web Development Bootcamp",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Description *"}),e.jsx("textarea",{rows:"4",value:r.description,onChange:s=>v("description",s.target.value),placeholder:"Describe what students will learn in this course...",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:outline-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),e.jsxs("select",{value:r.category,onChange:s=>v("category",s.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 bg-white focus:ring-2 focus:ring-indigo-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"Web Development",children:"Web Development"}),e.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),e.jsx("option",{value:"Data Science",children:"Data Science"}),e.jsx("option",{value:"Design",children:"Design"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level *"}),e.jsxs("select",{value:r.level,onChange:s=>v("level",s.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 bg-white focus:ring-2 focus:ring-indigo-500 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select level"}),e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Thumbnail *"}),d&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"relative w-64 h-36 rounded-lg overflow-hidden border border-gray-300",children:[e.jsx("img",{src:d,alt:"Thumbnail preview",className:"w-full h-full object-cover"}),e.jsx("button",{onClick:A,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition",children:"âœ•"})]}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:N||"Current thumbnail"})]}),e.jsxs("div",{className:`border-2 border-dashed ${d?"border-green-300":"border-gray-300"} rounded-lg p-6 flex flex-col items-center justify-center text-center hover:border-indigo-400 transition`,children:[e.jsx(V,{className:"text-4xl text-gray-500 mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:d?"Click to change thumbnail":"Upload course thumbnail (16:9 ratio recommended)"}),N&&!d&&e.jsx("p",{className:"text-gray-500 text-sm mt-2 mb-2",children:N}),e.jsxs("label",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg cursor-pointer transition",children:[d?"Change File":"Choose File",e.jsx("input",{ref:F,type:"file",onChange:U,className:"hidden",accept:"image/*"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Next: Content"})})]})]}),m==="Content"&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"w-full bg-white rounded-xl shadow-sm border border-gray-200 p-8 mt-6",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Course Content"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Add chapters and lessons to your course. At least one chapter is required."}),e.jsx("button",{onClick:B,className:"w-full text-center bg-gray-100 hover:bg-green-600 hover:text-white py-3 rounded-lg mb-5 transition font-medium",children:"+ Add Chapter"}),g.map(s=>e.jsxs("div",{className:"mb-6 border border-gray-200 rounded-xl",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-3 rounded-t-xl flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"New Chapter Form"}),e.jsx("button",{onClick:()=>L(s),className:"text-red-500 hover:text-red-700 text-lg",children:"âœ•"})]}),e.jsx("div",{className:"p-4",children:e.jsx(ee,{index:r.chapters.length,onAddChapter:t=>$(t,s),onCancel:()=>L(s)})})]},s)),r.chapters.length===0&&g.length===0?e.jsx("div",{className:"text-center py-10 text-gray-500",children:e.jsx("p",{children:'No chapters added yet. Click "Add Chapter" to get started.'})}):r.chapters.map((s,t)=>e.jsxs("div",{className:"border border-gray-200 bg-white rounded-xl mt-5 p-5 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-medium text-lg text-gray-800",children:s.chapterName}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>R(s.id),className:"hover:bg-gray-200 p-2 rounded-xl text-gray-500",children:e.jsx(G,{})}),n===s.id&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:e.jsx("button",{onClick:()=>q(s.id),className:"block w-full text-left px-4 py-2 text-red-600 hover:bg-red-50",children:"Delete Chapter"})})]})]}),s.videoFile&&e.jsxs("div",{className:"flex justify-between items-center mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Z,{className:"text-xl"}),e.jsx("span",{className:"font-medium text-gray-700",children:s.videoFile.name})]}),e.jsxs("span",{className:"text-xs bg-white border rounded-full px-3 py-1 border-gray-300",children:[s.videoFile.sizeMB," MB"]})]}),s.pdfFiles?.length>0&&e.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm font-medium mb-2 text-gray-700",children:["Attached PDFs (",s.pdfFiles.length,"):"]}),e.jsx("div",{className:"space-y-2",children:s.pdfFiles.map((l,i)=>e.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(H,{className:"text-gray-600"}),e.jsx("span",{className:"text-gray-700",children:l.name})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[l.sizeMB," MB"]})]},i))})]}),s.notes&&e.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Notes:"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.notes})]})]},s.id)),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Total Chapters: ",e.jsx("span",{className:"font-bold",children:r.chapters.length})]}),r.chapters.length===0?e.jsx("span",{className:"text-red-500 text-sm",children:"âš ï¸ At least one chapter required"}):e.jsx("span",{className:"text-green-500 text-sm",children:"âœ… Ready to proceed"})]})}),e.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:k,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition",children:"Previous"}),e.jsx("button",{onClick:D,disabled:r.chapters.length===0,className:`px-6 py-2 rounded-lg transition ${r.chapters.length===0?"bg-gray-400 cursor-not-allowed text-gray-200":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:"Next: Settings"})]})]})}),m==="Settings"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-1",children:"Course Settings"}),e.jsx("p",{className:"text-gray-500 mb-6 mt-2",children:"Configure course availability and access"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xl text-gray-700 mb-1",children:"Course Category *"}),e.jsxs("select",{value:r.courseCategory,onChange:s=>v("courseCategory",s.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 bg-white focus:ring-2 focus:ring-indigo-500 focus:outline-none mt-2",children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"Free",children:"Free"}),e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Subscription Only",children:"Subscription Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xl text-gray-700 mb-2",children:"Enrollment Limit"}),e.jsx("input",{type:"number",value:r.enrollmentLimit,onChange:s=>v("enrollmentLimit",s.target.value),placeholder:"Leave empty for unlimited",className:"w-full border border-gray-300 mt-2 rounded-lg px-4 py-2 bg-white focus:ring-2 focus:ring-indigo-500 focus:outline-none"})]})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx("button",{onClick:k,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition",children:"Previous"}),e.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Next: Publish"})]})]}),m==="Publish"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-1",children:"Publish Course"}),e.jsx("p",{className:"text-gray-500 mb-6 mt-2",children:"Review and publish your course"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(_,{className:"text-7xl text-green-500"})}),e.jsx("h2",{className:"p-2 text-2xl font-semibold",children:"Ready to Publish!"}),e.jsx("p",{className:"p-2 text-gray-500",children:"Your course is ready to be published and available to students."}),e.jsxs("div",{className:"mt-6 p-6 bg-gray-50 rounded-lg text-left",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4 border-b pb-2",children:"Course Preview"}),d&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Thumbnail:"}),e.jsx("div",{className:"w-64 h-36 rounded-lg overflow-hidden border border-gray-300",children:e.jsx("img",{src:d,alt:"Course thumbnail",className:"w-full h-full object-cover"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Title:"})," ",r.title||"Not set"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",r.description?`${r.description.substring(0,50)}...`:"Not set"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",r.category||"Not set"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Level:"})," ",r.level||"Not set"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Course Type:"})," ",r.courseCategory||"Not set"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Chapters:"})," ",r.chapters.length]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Enrollment Limit:"})," ",r.enrollmentLimit||"Unlimited"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Thumbnail:"})," ",d?"âœ… Uploaded":"âŒ Not set"]})]})]}),r.chapters.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Chapters:"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:r.chapters.map((s,t)=>e.jsxs("div",{className:"text-sm bg-white p-2 rounded border",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:["Chapter ",t+1,":"]})," ",s.chapterName]}),e.jsxs("p",{className:"text-gray-600",children:["PDFs: ",s.pdfFiles?.length||0]})]},s.id))})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 mt-6",children:[e.jsx("button",{onClick:k,className:"border border-gray-300 text-gray-700 px-5 py-2 rounded-lg hover:bg-gray-100 transition w-full sm:w-auto",children:"Previous"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsx("button",{onClick:O,className:"border border-gray-300 text-gray-700 px-5 py-2 rounded-lg hover:bg-gray-100 transition w-full sm:w-auto",children:"Save as Draft"}),e.jsxs("button",{onClick:M,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2 justify-center w-full sm:w-auto transition",children:[e.jsx(X,{size:16}),e.jsx("span",{children:"Publish Course"})]})]})]})]})]})]})]})}export{xe as default};
